<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>p4est: p4est_lnodes Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">p4est
   &#160;<span id="projectnumber">2.8.7</span>
   </div>
   <div id="projectbrief">p4est is a software library for parallel adaptive mesh refinement.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">p4est_lnodes Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Store a parallel numbering of Lobatto points of a given degree &gt; 0.  
 <a href="structp4est__lnodes.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="p4est__lnodes_8h_source.html">p4est_lnodes.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a782bb8f6659cface4375fab59fe95bfb"><td class="memItemLeft" align="right" valign="top"><a id="a782bb8f6659cface4375fab59fe95bfb"></a>
sc_MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#a782bb8f6659cface4375fab59fe95bfb">mpicomm</a></td></tr>
<tr class="memdesc:a782bb8f6659cface4375fab59fe95bfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valid MPI communicator. <br /></td></tr>
<tr class="separator:a782bb8f6659cface4375fab59fe95bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef7cea6212fa04c2b1276ca1401ed0f"><td class="memItemLeft" align="right" valign="top"><a id="a8ef7cea6212fa04c2b1276ca1401ed0f"></a>
<a class="el" href="p4est__base_8h.html#a9f350ee78755ec6e7d25fb1dca474573">p4est_locidx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#a8ef7cea6212fa04c2b1276ca1401ed0f">num_local_nodes</a></td></tr>
<tr class="memdesc:a8ef7cea6212fa04c2b1276ca1401ed0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of nodes known to process. <br /></td></tr>
<tr class="separator:a8ef7cea6212fa04c2b1276ca1401ed0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f167398220f8cdb7486ff5145f0acab"><td class="memItemLeft" align="right" valign="top"><a id="a3f167398220f8cdb7486ff5145f0acab"></a>
<a class="el" href="p4est__base_8h.html#a9f350ee78755ec6e7d25fb1dca474573">p4est_locidx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#a3f167398220f8cdb7486ff5145f0acab">owned_count</a></td></tr>
<tr class="memdesc:a3f167398220f8cdb7486ff5145f0acab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of owned nodes of process. <br /></td></tr>
<tr class="separator:a3f167398220f8cdb7486ff5145f0acab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0302c711befc032e696d68c2ec855a"><td class="memItemLeft" align="right" valign="top"><a id="a3c0302c711befc032e696d68c2ec855a"></a>
<a class="el" href="p4est__base_8h.html#af4d787f9b2520af0cfe9a10b89235749">p4est_gloidx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#a3c0302c711befc032e696d68c2ec855a">global_offset</a></td></tr>
<tr class="memdesc:a3c0302c711befc032e696d68c2ec855a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global number of first local node. <br /></td></tr>
<tr class="separator:a3c0302c711befc032e696d68c2ec855a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a075f125fa51ad9f2ac99912f39d82bff"><td class="memItemLeft" align="right" valign="top"><a id="a075f125fa51ad9f2ac99912f39d82bff"></a>
<a class="el" href="p4est__base_8h.html#af4d787f9b2520af0cfe9a10b89235749">p4est_gloidx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#a075f125fa51ad9f2ac99912f39d82bff">nonlocal_nodes</a></td></tr>
<tr class="memdesc:a075f125fa51ad9f2ac99912f39d82bff"><td class="mdescLeft">&#160;</td><td class="mdescRight">For nonlocal nodes: global number. <br /></td></tr>
<tr class="separator:a075f125fa51ad9f2ac99912f39d82bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab36d43c9e66f75f1357d7dcaf3c63115"><td class="memItemLeft" align="right" valign="top">sc_array_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#ab36d43c9e66f75f1357d7dcaf3c63115">sharers</a></td></tr>
<tr class="memdesc:ab36d43c9e66f75f1357d7dcaf3c63115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoding of sharer processes' nodes.  <a href="structp4est__lnodes.html#ab36d43c9e66f75f1357d7dcaf3c63115">More...</a><br /></td></tr>
<tr class="separator:ab36d43c9e66f75f1357d7dcaf3c63115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3757e17c8ef2003f8775373c773c8eb5"><td class="memItemLeft" align="right" valign="top"><a id="a3757e17c8ef2003f8775373c773c8eb5"></a>
<a class="el" href="p4est__base_8h.html#a9f350ee78755ec6e7d25fb1dca474573">p4est_locidx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#a3757e17c8ef2003f8775373c773c8eb5">global_owned_count</a></td></tr>
<tr class="memdesc:a3757e17c8ef2003f8775373c773c8eb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">For each rank: owned count. <br /></td></tr>
<tr class="separator:a3757e17c8ef2003f8775373c773c8eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac38c9a2ae586097e67b604d2b22cad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#a3ac38c9a2ae586097e67b604d2b22cad">degree</a></td></tr>
<tr class="memdesc:a3ac38c9a2ae586097e67b604d2b22cad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Degree used in construction.  <a href="structp4est__lnodes.html#a3ac38c9a2ae586097e67b604d2b22cad">More...</a><br /></td></tr>
<tr class="separator:a3ac38c9a2ae586097e67b604d2b22cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfca541bd5a1f8179d19c7bebb93baae"><td class="memItemLeft" align="right" valign="top"><a id="abfca541bd5a1f8179d19c7bebb93baae"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#abfca541bd5a1f8179d19c7bebb93baae">vnodes</a></td></tr>
<tr class="memdesc:abfca541bd5a1f8179d19c7bebb93baae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of nodes of each element. <br /></td></tr>
<tr class="separator:abfca541bd5a1f8179d19c7bebb93baae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d4db5be0727812cdc457cc3d41aba3"><td class="memItemLeft" align="right" valign="top"><a id="ac1d4db5be0727812cdc457cc3d41aba3"></a>
<a class="el" href="p4est__base_8h.html#a9f350ee78755ec6e7d25fb1dca474573">p4est_locidx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#ac1d4db5be0727812cdc457cc3d41aba3">num_local_elements</a></td></tr>
<tr class="memdesc:ac1d4db5be0727812cdc457cc3d41aba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Elements local to process. <br /></td></tr>
<tr class="separator:ac1d4db5be0727812cdc457cc3d41aba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173f0d96ba0ed1a8bf68507be356c963"><td class="memItemLeft" align="right" valign="top"><a id="a173f0d96ba0ed1a8bf68507be356c963"></a>
<a class="el" href="p4est__lnodes_8h.html#ad1ce475e060c1a87e8aff86dde883e11">p4est_lnodes_code_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#a173f0d96ba0ed1a8bf68507be356c963">face_code</a></td></tr>
<tr class="memdesc:a173f0d96ba0ed1a8bf68507be356c963"><td class="mdescLeft">&#160;</td><td class="mdescRight">One entry per local element encoding its hanging situation. <br /></td></tr>
<tr class="separator:a173f0d96ba0ed1a8bf68507be356c963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f783d528f1e5c29120920163537169"><td class="memItemLeft" align="right" valign="top"><a id="aa5f783d528f1e5c29120920163537169"></a>
<a class="el" href="p4est__base_8h.html#a9f350ee78755ec6e7d25fb1dca474573">p4est_locidx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structp4est__lnodes.html#aa5f783d528f1e5c29120920163537169">element_nodes</a></td></tr>
<tr class="memdesc:aa5f783d528f1e5c29120920163537169"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flat list: element_nodes * vnodes. <br /></td></tr>
<tr class="separator:aa5f783d528f1e5c29120920163537169"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Store a parallel numbering of Lobatto points of a given degree &gt; 0. </p>
<p>Each element has degree+1 nodes per face and vnodes = (degree+1)^2 nodes per volume. num_local_elements is the number of local quadrants in the <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a>. element_nodes is of dimension vnodes * num_local_elements and lists the nodes of each element in lexicographic yx-order (x varies fastest); so for degree == 2, this is the layout of nodes: </p><pre class="fragment">        f_3
 c_2           c_3
     6---7---8
     |       |
f_0  3   4   5  f_1
     |       |
     0---1---2
 c_0           c_1
        f_2
</pre><p> element_nodes indexes into the set of local nodes, layed out as follows: </p><pre class="fragment">local nodes = [&lt;-----owned_count-----&gt;|&lt;-----nonlocal_nodes-----&gt;]
            = [&lt;----------------num_local_nodes-----------------&gt;]
</pre><p> nonlocal_nodes contains the globally unique numbers for independent nodes that are owned by other processes; for local nodes, the globally unique numbers are given by i + global_offset, where i is the local number. Hanging nodes are always local and don't have a global number. They index the geometrically corresponding independent nodes of a neighbor.</p>
<p>Whether nodes are hanging or not is decided based on the element faces. This information is encoded in face_code with one int8_t per element. If no faces are hanging, the value is zero, otherwise the face_code is interpreted by p4est_lnodes_decode.</p>
<p>Independent nodes can be shared by multiple MPI ranks. The owner rank of a node is the one from the lowest numbered element on the lowest numbered octree <em>touching</em> the node.</p>
<p>What is meant by <em>touching</em>? A quadrant is said to touch all faces/corners that are incident on it, and by extension all nodes that are contained in those faces/corners. </p><pre class="fragment">        X +-----------+
        o |           |
        o |           |
+-----+ o |     p     |
|  q  | o |           |
|     | o |           |
+-----+ O +-----------+
</pre><p> In this example degree = 6. There are 5 nodes that live on the face between q and p, and one at each corner of that face. The face is incident on q, so q owns the nodes on the face (provided q is from a lower tree or has a lower index than p). The lower corner is incident on q, so q owns it as well. The upper corner is not incident on q, so q cannot own it.</p>
<p>global_owned_count contains the number of independent nodes owned by each process.</p>
<p>The sharers array contains items of type p4est_lnodes_rank_t that hold the ranks that own or share independent local nodes. If there are no shared nodes on this processor, it is empty. Otherwise, it is sorted by rank and the current process is included.</p>
<p>degree &lt; 0 indicates that the lnodes data structure is being used to number the quadrant boundary object (faces and corners) rather than the $C^0$ Lobatto nodes:</p>
<p>if degree == -1, then one node is assigned per face, and no nodes are assigned per volume or per corner: this numbering can be used for low-order Raviart-Thomas elements. In this case, vnodes == 4, and the nodes are listed in face-order: </p><pre class="fragment">        f_3
 c_2           c_3
     +---3---+
     |       |
f_0  0       1  f_1
     |       |
     +---2---+
 c_0           c_1
        f_2
</pre><p> if degree == -2, then one node is assigned per face and per corner and no nodes are assigned per volume. In this case, vnodes == 8, and the nodes are listed in face-order, followed by corner-order: </p><pre class="fragment">        f_3
 c_2           c_3
     6---3---7
     |       |
f_0  0       1  f_1
     |       |
     4---2---5
 c_0           c_1
        f_2
</pre> <dl class="section examples"><dt>Examples</dt><dd><a class="el" href="timings_2timings2_8c-example.html#_a7">timings/timings2.c</a>.</dd>
</dl>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a3ac38c9a2ae586097e67b604d2b22cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ac38c9a2ae586097e67b604d2b22cad">&#9670;&nbsp;</a></span>degree</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int p4est_lnodes::degree</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Degree used in construction. </p>
<p>Generally &gt; 0, with further special cases; see <a class="el" href="structp4est__lnodes.html">p4est_lnodes</a>. </p>

</div>
</div>
<a id="ab36d43c9e66f75f1357d7dcaf3c63115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab36d43c9e66f75f1357d7dcaf3c63115">&#9670;&nbsp;</a></span>sharers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sc_array_t* p4est_lnodes::sharers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encoding of sharer processes' nodes. </p>
<p>The array elements are of type <a class="el" href="structp4est__lnodes__rank.html">p4est_lnodes_rank</a>. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/<a class="el" href="p4est__lnodes_8h_source.html">p4est_lnodes.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/>
</body>
</html>
