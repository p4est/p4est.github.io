<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>p4est: timings/timings2.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">p4est
   &#160;<span id="projectnumber">2.8.6.259-54a6</span>
   </div>
   <div id="projectbrief">p4est is a software library for parallel adaptive mesh refinement.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">timings/timings2.c</div>  </div>
</div><!--header-->
<div class="contents">
<p>This 2D example program (3D counterpart: <a class="el" href="timings_2timings3_8c-example.html">timings/timings3.c</a>) calls <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a>'s core routines.The example's purpose is to measure the runtime of <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a>'s core routines.</p>
<p>Usage: </p><blockquote class="doxtable">
<p><code>p4est_timings &lt;configuration&gt; &lt;level&gt;</code> </p>
</blockquote>
<p>possible configurations:</p><ul>
<li><code>unit</code> Refinement on the unit square.</li>
<li><code>periodic</code> Refinement on the unit square with periodic b.c.</li>
<li><code>three</code> Refinement on a forest with three trees.</li>
<li><code>moebius</code> Refinement on a 5-tree Moebius band.</li>
<li><code>star</code> Refinement on a 6-tree star shaped domain.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">  This file is part of p4est.</span></div>
<div class="line"><span class="comment">  p4est is a C library to manage a collection (a forest) of multiple</span></div>
<div class="line"><span class="comment">  connected adaptive quadtrees or octrees in parallel.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  Copyright (C) 2010 The University of Texas System</span></div>
<div class="line"><span class="comment">  Additional copyright (C) 2011 individual authors</span></div>
<div class="line"><span class="comment">  Written by Carsten Burstedde, Lucas C. Wilcox, and Tobin Isaac</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  p4est is free software; you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">  it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><span class="comment">  the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><span class="comment">  (at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  p4est is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">  GNU General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  You should have received a copy of the GNU General Public License</span></div>
<div class="line"><span class="comment">  along with p4est; if not, write to the Free Software Foundation, Inc.,</span></div>
<div class="line"><span class="comment">  51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Usage: p4est_timings &lt;configuration&gt; &lt;level&gt;</span></div>
<div class="line"><span class="comment"> *        possible configurations:</span></div>
<div class="line"><span class="comment"> *        o unit      Refinement on the unit square.</span></div>
<div class="line"><span class="comment"> *        o periodic  Refinement on the unit square with periodic b.c.</span></div>
<div class="line"><span class="comment"> *        o three     Refinement on a forest with three trees.</span></div>
<div class="line"><span class="comment"> *        o moebius   Refinement on a 5-tree Moebius band.</span></div>
<div class="line"><span class="comment"> *        o star      Refinement on a 6-tree star shaped domain.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Usage: p8est_timings &lt;configuration&gt; &lt;level&gt;</span></div>
<div class="line"><span class="comment"> *        possible configurations:</span></div>
<div class="line"><span class="comment"> *        o unit      Refinement on the unit cube.</span></div>
<div class="line"><span class="comment"> *        o periodic  Refinement on the unit cube with all-periodic b.c.</span></div>
<div class="line"><span class="comment"> *        o rotwrap   Refinement on the unit cube with weird periodic b.c.</span></div>
<div class="line"><span class="comment"> *        o twocubes  Refinement on a forest with two trees.</span></div>
<div class="line"><span class="comment"> *        o rotcubes  Refinement on a forest with six rotated trees.</span></div>
<div class="line"><span class="comment"> *        o shell     Refinement on a 24-tree spherical shell.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef P4_TO_P8</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p4est__algorithms_8h.html">p4est_algorithms.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p4est__bits_8h.html">p4est_bits.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p4est__extended_8h.html">p4est_extended.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p4est__ghost_8h.html">p4est_ghost.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;p4est_nodes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p4est__vtk_8h.html">p4est_vtk.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p4est__lnodes_8h.html">p4est_lnodes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p8est__algorithms_8h.html">p8est_algorithms.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p8est__bits_8h.html">p8est_bits.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p8est__extended_8h.html">p8est_extended.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p8est__ghost_8h.html">p8est_ghost.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;p8est_nodes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p8est__vtk_8h.html">p8est_vtk.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="p8est__lnodes_8h.html">p8est_lnodes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#include &lt;sc_flops.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sc_statistics.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sc_options.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* #define P4EST_TIMINGS_VTK */</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span></div>
<div class="line">{</div>
<div class="line">  P4EST_CONFIG_NULL,</div>
<div class="line">  P4EST_CONFIG_UNIT,</div>
<div class="line">  P4EST_CONFIG_PERIODIC,</div>
<div class="line"><span class="preprocessor">#ifndef P4_TO_P8</span></div>
<div class="line">  P4EST_CONFIG_THREE,</div>
<div class="line">  P4EST_CONFIG_MOEBIUS,</div>
<div class="line">  P4EST_CONFIG_STAR</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">  P4EST_CONFIG_ROTWRAP,</div>
<div class="line">  P4EST_CONFIG_TWOCUBES,</div>
<div class="line">  P4EST_CONFIG_ROTCUBES,</div>
<div class="line">  P4EST_CONFIG_SHELL</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">}</div>
<div class="line">timings_config_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span></div>
<div class="line">{</div>
<div class="line">  TIMINGS_REFINE,</div>
<div class="line">  TIMINGS_BALANCE,</div>
<div class="line">  TIMINGS_BALANCE_A,</div>
<div class="line">  TIMINGS_BALANCE_COMM,</div>
<div class="line">  TIMINGS_BALANCE_B,</div>
<div class="line">  TIMINGS_BALANCE_A_COUNT_IN,</div>
<div class="line">  TIMINGS_BALANCE_A_COUNT_OUT,</div>
<div class="line">  TIMINGS_BALANCE_COMM_SENT,</div>
<div class="line">  TIMINGS_BALANCE_COMM_NZPEERS,</div>
<div class="line">  TIMINGS_BALANCE_B_COUNT_IN,</div>
<div class="line">  TIMINGS_BALANCE_B_COUNT_OUT,</div>
<div class="line">  TIMINGS_BALANCE_RANGES,</div>
<div class="line">  TIMINGS_BALANCE_NOTIFY,</div>
<div class="line">  TIMINGS_BALANCE_NOTIFY_ALLGATHER,</div>
<div class="line">  TIMINGS_BALANCE_A_ZERO_SENDS,</div>
<div class="line">  TIMINGS_BALANCE_A_ZERO_RECEIVES,</div>
<div class="line">  TIMINGS_BALANCE_B_ZERO_SENDS,</div>
<div class="line">  TIMINGS_BALANCE_B_ZERO_RECEIVES,</div>
<div class="line">  TIMINGS_REBALANCE,</div>
<div class="line">  TIMINGS_REBALANCE_A,</div>
<div class="line">  TIMINGS_REBALANCE_COMM,</div>
<div class="line">  TIMINGS_REBALANCE_B,</div>
<div class="line">  TIMINGS_REBALANCE_A_COUNT_IN,</div>
<div class="line">  TIMINGS_REBALANCE_A_COUNT_OUT,</div>
<div class="line">  TIMINGS_REBALANCE_COMM_SENT,</div>
<div class="line">  TIMINGS_REBALANCE_COMM_NZPEERS,</div>
<div class="line">  TIMINGS_REBALANCE_B_COUNT_IN,</div>
<div class="line">  TIMINGS_REBALANCE_B_COUNT_OUT,</div>
<div class="line">  TIMINGS_PARTITION,</div>
<div class="line">  TIMINGS_GHOSTS,</div>
<div class="line">  TIMINGS_NODES,</div>
<div class="line">  TIMINGS_TRILINEAR_OBSOLETE,</div>
<div class="line">  TIMINGS_REPARTITION,</div>
<div class="line">  TIMINGS_LNODES,</div>
<div class="line">  TIMINGS_LNODES3,</div>
<div class="line">  TIMINGS_LNODES7,</div>
<div class="line">  TIMINGS_NUM_STATS</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line">{</div>
<div class="line">  timings_config_t    config;</div>
<div class="line">  <span class="keywordtype">int</span>                 mpisize;</div>
<div class="line">  <span class="keywordtype">int</span>                 level;</div>
<div class="line">  <span class="keywordtype">unsigned</span>            checksum;</div>
<div class="line">}</div>
<div class="line">timings_regression_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line">{</div>
<div class="line">  sc_MPI_Comm         mpicomm;</div>
<div class="line">  <span class="keywordtype">int</span>                 mpisize;</div>
<div class="line">  <span class="keywordtype">int</span>                 mpirank;</div>
<div class="line">}</div>
<div class="line">mpi_context_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span>          refine_level = 0;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span>          level_shift = 0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* *INDENT-OFF* */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> timings_regression_t regression_oldschool[] =</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#ifndef P4_TO_P8</span></div>
<div class="line">  { P4EST_CONFIG_UNIT, 1, 10, 0x6e3e83c4U },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 1, 11, 0x334bc3deU },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 64, 14, 0xad908ce4U },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 256, 15, 0x9e7da646U },</div>
<div class="line">  { P4EST_CONFIG_STAR, 1, 6, 0x14107b57U },</div>
<div class="line">  { P4EST_CONFIG_STAR, 4, 6, 0x14107b57U },</div>
<div class="line">  { P4EST_CONFIG_STAR, 52, 13, 0xc86c74d9U },</div>
<div class="line">  { P4EST_CONFIG_STAR, 64, 13, 0xc86c74d9U },</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">  { P4EST_CONFIG_UNIT, 1, 5, 0xe1ffa67bU },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 1, 6, 0x2cad814dU },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 3, 8, 0xeb252238U },</div>
<div class="line">  { P4EST_CONFIG_PERIODIC, 1, 5, 0x99874fedU },</div>
<div class="line">  { P4EST_CONFIG_PERIODIC, 2, 5, 0x575af6d5U },</div>
<div class="line">  { P4EST_CONFIG_PERIODIC, 7, 6, 0xbc35524aU },</div>
<div class="line">  { P4EST_CONFIG_ROTWRAP, 2, 6, 0x372f7402U },</div>
<div class="line">  { P4EST_CONFIG_ROTWRAP, 7, 6, 0xa2f1ee48U },</div>
<div class="line">  { P4EST_CONFIG_TWOCUBES, 5, 6, 0xa8b1f54eU },</div>
<div class="line">  { P4EST_CONFIG_TWOCUBES, 8, 5, 0x98d3579dU },</div>
<div class="line">  { P4EST_CONFIG_ROTCUBES, 1, 5, 0x404e4aa8U },</div>
<div class="line">  { P4EST_CONFIG_ROTCUBES, 7, 6, 0x4c381706U },</div>
<div class="line">  { P4EST_CONFIG_SHELL, 1, 4, 0x8c56f159U },</div>
<div class="line">  { P4EST_CONFIG_SHELL, 3, 5, 0xafbc4f8cU },</div>
<div class="line">  { P4EST_CONFIG_SHELL, 5, 6, 0xf6d9efb8U },</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">  { P4EST_CONFIG_NULL, 0, 0, 0 }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> timings_regression_t regression_latest[] =</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#ifndef P4_TO_P8</span></div>
<div class="line">  { P4EST_CONFIG_UNIT, 1, 10, 0x6e3e83c4U },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 1, 11, 0x334bc3deU },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 64, 14, 0xad908ce4U },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 256, 15, 0x9e7da646U },</div>
<div class="line">  { P4EST_CONFIG_STAR, 1, 6, 0x14107b57U },</div>
<div class="line">  { P4EST_CONFIG_STAR, 4, 6, 0x14107b57U },</div>
<div class="line">  { P4EST_CONFIG_STAR, 52, 13, 0xc86c74d9U },</div>
<div class="line">  { P4EST_CONFIG_STAR, 64, 13, 0xc86c74d9U },</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">  { P4EST_CONFIG_UNIT, 1, 5, 0xc2012e84U },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 1, 6, 0x2cad814dU },</div>
<div class="line">  { P4EST_CONFIG_UNIT, 3, 8, 0xeb252238U },</div>
<div class="line">  { P4EST_CONFIG_PERIODIC, 1, 5, 0x2776c9b7U },</div>
<div class="line">  { P4EST_CONFIG_PERIODIC, 2, 5, 0x2776c9b7U },</div>
<div class="line">  { P4EST_CONFIG_PERIODIC, 7, 6, 0x4f281079U },</div>
<div class="line">  { P4EST_CONFIG_ROTWRAP, 2, 6, 0x372f7402U },</div>
<div class="line">  { P4EST_CONFIG_ROTWRAP, 7, 6, 0x372f7402U },</div>
<div class="line">  { P4EST_CONFIG_TWOCUBES, 5, 6, 0xa8b1f54eU },</div>
<div class="line">  { P4EST_CONFIG_TWOCUBES, 8, 5, 0x0aad11d0U },</div>
<div class="line">  { P4EST_CONFIG_ROTCUBES, 1, 5, 0x404e4aa8U },</div>
<div class="line">  { P4EST_CONFIG_ROTCUBES, 7, 6, 0x4c381706U },</div>
<div class="line">  { P4EST_CONFIG_SHELL, 1, 4, 0x8c56f159U },</div>
<div class="line">  { P4EST_CONFIG_SHELL, 3, 5, 0xafbc4f8cU },</div>
<div class="line">  { P4EST_CONFIG_SHELL, 5, 6, 0xf6d9efb8U },</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">  { P4EST_CONFIG_NULL, 0, 0, 0 }</div>
<div class="line">};</div>
<div class="line"><span class="comment">/* *INDENT-ON* */</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">refine_fractal (<a name="_a0"></a><a class="code" href="structp4est.html">p4est_t</a> * <a class="code" href="structp4est.html">p4est</a>, <a class="code" href="p4est__base_8h.html#a8e849f705b0d4d1702b8f5102823f48c">p4est_topidx_t</a> which_tree,</div>
<div class="line">                <a name="_a1"></a><a class="code" href="structp4est__quadrant.html">p4est_quadrant_t</a> * q)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordtype">int</span>                 qid;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>) q-&gt;<a name="a2"></a><a class="code" href="structp4est__quadrant.html#a0f92ad9bd71d9e3f82246d2768ff23ad">level</a> &gt;= refine_level) {</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>) q-&gt;<a class="code" href="structp4est__quadrant.html#a0f92ad9bd71d9e3f82246d2768ff23ad">level</a> &lt; refine_level - level_shift) {</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  qid = <a name="a3"></a><a class="code" href="p4est__bits_8h.html#a2b0cbbd87c0bc9d640fb0ee8b32d9a0f">p4est_quadrant_child_id</a> (q);</div>
<div class="line">  <span class="keywordflow">return</span> (qid == 0 || qid == 3</div>
<div class="line">#ifdef P4_TO_P8</div>
<div class="line">          || qid == 5 || qid == 6</div>
<div class="line">#endif</div>
<div class="line">    );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordtype">int</span>                 i;</div>
<div class="line">  <span class="keywordtype">int</span>                 mpiret;</div>
<div class="line">  <span class="keywordtype">int</span>                 wrongusage;</div>
<div class="line">  <span class="keywordtype">unsigned</span>            crc, gcrc;</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span>         *config_name;</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span>         *load_name;</div>
<div class="line">  <a class="code" href="p4est__base_8h.html#a9f350ee78755ec6e7d25fb1dca474573">p4est_locidx_t</a>     *quadrant_counts;</div>
<div class="line">  <a class="code" href="p4est__base_8h.html#af4d787f9b2520af0cfe9a10b89235749">p4est_gloidx_t</a>      count_refined, count_balanced;</div>
<div class="line">  <a class="code" href="p4est__base_8h.html#af4d787f9b2520af0cfe9a10b89235749">p4est_gloidx_t</a>      prev_quadrant, next_quadrant;</div>
<div class="line">  <a class="code" href="p4est__base_8h.html#af4d787f9b2520af0cfe9a10b89235749">p4est_gloidx_t</a>      global_shipped;</div>
<div class="line">  <a name="_a4"></a><a class="code" href="structp4est__connectivity.html">p4est_connectivity_t</a> *connectivity;</div>
<div class="line">  <a class="code" href="structp4est.html">p4est_t</a>            *<a class="code" href="structp4est.html">p4est</a>;</div>
<div class="line">  <a name="_a5"></a><a class="code" href="structp4est__nodes.html">p4est_nodes_t</a>      *nodes = NULL;</div>
<div class="line">  <a name="_a6"></a><a class="code" href="structp4est__ghost.html">p4est_ghost_t</a>      *ghost;</div>
<div class="line">  <a name="_a7"></a><a class="code" href="structp4est__lnodes.html">p4est_lnodes_t</a>     *lnodes;</div>
<div class="line">  <span class="keyword">const</span> timings_regression_t *r, *regression;</div>
<div class="line">  timings_config_t    config;</div>
<div class="line">  sc_statinfo_t       stats[TIMINGS_NUM_STATS];</div>
<div class="line">  sc_flopinfo_t       fi, snapshot;</div>
<div class="line">  mpi_context_t       mpi_context, *mpi = &amp;mpi_context;</div>
<div class="line">  sc_options_t       *opt;</div>
<div class="line">  <span class="keywordtype">int</span>                 overlap;</div>
<div class="line">  <span class="keywordtype">int</span>                 subtree;</div>
<div class="line">  <span class="keywordtype">int</span>                 borders;</div>
<div class="line">  <span class="keywordtype">int</span>                 max_ranges;</div>
<div class="line">  <span class="keywordtype">int</span>                 use_ranges, use_ranges_notify, use_balance_verify;</div>
<div class="line">  <span class="keywordtype">int</span>                 oldschool, generate;</div>
<div class="line">  <span class="keywordtype">int</span>                 first_argc;</div>
<div class="line">  <span class="keywordtype">int</span>                 test_multiple_orders;</div>
<div class="line">  <span class="keywordtype">int</span>                 skip_nodes, skip_lnodes;</div>
<div class="line">  <span class="keywordtype">int</span>                 repartition_lnodes;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* initialize MPI and p4est internals */</span></div>
<div class="line">  mpiret = sc_MPI_Init (&amp;argc, &amp;argv);</div>
<div class="line">  SC_CHECK_MPI (mpiret);</div>
<div class="line">  mpi-&gt;mpicomm = sc_MPI_COMM_WORLD;</div>
<div class="line">  mpiret = sc_MPI_Comm_size (mpi-&gt;mpicomm, &amp;mpi-&gt;mpisize);</div>
<div class="line">  SC_CHECK_MPI (mpiret);</div>
<div class="line">  mpiret = sc_MPI_Comm_rank (mpi-&gt;mpicomm, &amp;mpi-&gt;mpirank);</div>
<div class="line">  SC_CHECK_MPI (mpiret);</div>
<div class="line"> </div>
<div class="line">  sc_init (mpi-&gt;mpicomm, 1, 1, NULL, SC_LP_DEFAULT);</div>
<div class="line"><span class="preprocessor">#ifndef P4EST_ENABLE_DEBUG</span></div>
<div class="line">  sc_set_log_defaults (NULL, NULL, SC_LP_STATISTICS);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">  <a name="a8"></a><a class="code" href="p4est__base_8h.html#aab4b16aa58790d309e0cf46ed665c6b9">p4est_init</a> (NULL, SC_LP_DEFAULT);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* process command line arguments */</span></div>
<div class="line">  P4EST_GLOBAL_PRODUCTIONF (<span class="stringliteral">&quot;Size of %dtant: %lld bytes\n&quot;</span>, <a name="a9"></a><a class="code" href="p4est__connectivity_8h.html#a2c4786e65053166a16b7afb2711d35cb">P4EST_DIM</a>,</div>
<div class="line">                            (<span class="keywordtype">long</span> <span class="keywordtype">long</span>) <span class="keyword">sizeof</span> (<a class="code" href="structp4est__quadrant.html">p4est_quadrant_t</a>));</div>
<div class="line"> </div>
<div class="line">  opt = sc_options_new (argv[0]);</div>
<div class="line"> </div>
<div class="line">  sc_options_add_switch (opt, <span class="charliteral">&#39;o&#39;</span>, <span class="stringliteral">&quot;new-balance-overlap&quot;</span>, &amp;overlap,</div>
<div class="line">                         <span class="stringliteral">&quot;use the new balance overlap algorithm&quot;</span>);</div>
<div class="line">  sc_options_add_switch (opt, <span class="charliteral">&#39;s&#39;</span>, <span class="stringliteral">&quot;new-balance-subtree&quot;</span>, &amp;subtree,</div>
<div class="line">                         <span class="stringliteral">&quot;use the new balance subtree algorithm&quot;</span>);</div>
<div class="line">  sc_options_add_switch (opt, <span class="charliteral">&#39;b&#39;</span>, <span class="stringliteral">&quot;new-balance-borders&quot;</span>, &amp;borders,</div>
<div class="line">                         <span class="stringliteral">&quot;use borders in balance&quot;</span>);</div>
<div class="line">  sc_options_add_int (opt, <span class="charliteral">&#39;m&#39;</span>, <span class="stringliteral">&quot;max-ranges&quot;</span>, &amp;max_ranges, -1,</div>
<div class="line">                      <span class="stringliteral">&quot;override p4est_num_ranges&quot;</span>);</div>
<div class="line">  sc_options_add_switch (opt, <span class="charliteral">&#39;r&#39;</span>, <span class="stringliteral">&quot;ranges&quot;</span>, &amp;use_ranges,</div>
<div class="line">                         <span class="stringliteral">&quot;use ranges in balance&quot;</span>);</div>
<div class="line">  sc_options_add_switch (opt, <span class="charliteral">&#39;t&#39;</span>, <span class="stringliteral">&quot;ranges-notify&quot;</span>, &amp;use_ranges_notify,</div>
<div class="line">                         <span class="stringliteral">&quot;use both ranges and notify&quot;</span>);</div>
<div class="line">  sc_options_add_switch (opt, <span class="charliteral">&#39;y&#39;</span>, <span class="stringliteral">&quot;balance-verify&quot;</span>, &amp;use_balance_verify,</div>
<div class="line">                         <span class="stringliteral">&quot;use verifications in balance&quot;</span>);</div>
<div class="line">  sc_options_add_int (opt, <span class="charliteral">&#39;l&#39;</span>, <span class="stringliteral">&quot;level&quot;</span>, &amp;refine_level, 0,</div>
<div class="line">                      <span class="stringliteral">&quot;initial refine level&quot;</span>);</div>
<div class="line"><span class="preprocessor">#ifndef P4_TO_P8</span></div>
<div class="line">  sc_options_add_string (opt, <span class="charliteral">&#39;c&#39;</span>, <span class="stringliteral">&quot;configuration&quot;</span>, &amp;config_name, <span class="stringliteral">&quot;unit&quot;</span>,</div>
<div class="line">                         <span class="stringliteral">&quot;configuration: unit|periodic|three|moebius|star&quot;</span>);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">  sc_options_add_string (opt, <span class="charliteral">&#39;c&#39;</span>, <span class="stringliteral">&quot;configuration&quot;</span>, &amp;config_name, <span class="stringliteral">&quot;unit&quot;</span>,</div>
<div class="line">                         <span class="stringliteral">&quot;configuration: unit|periodic|rotwrap|twocubes|rotcubes|shell&quot;</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">  sc_options_add_bool (opt, 0, <span class="stringliteral">&quot;oldschool&quot;</span>, &amp;oldschool, 0,</div>
<div class="line">                       <span class="stringliteral">&quot;Use original p4est_new call&quot;</span>);</div>
<div class="line">  sc_options_add_switch (opt, 0, <span class="stringliteral">&quot;generate&quot;</span>, &amp;generate,</div>
<div class="line">                         <span class="stringliteral">&quot;Generate regression commands&quot;</span>);</div>
<div class="line">  sc_options_add_string (opt, <span class="charliteral">&#39;f&#39;</span>, <span class="stringliteral">&quot;load-forest&quot;</span>, &amp;load_name, NULL,</div>
<div class="line">                         <span class="stringliteral">&quot;load saved &quot;</span> <a name="a10"></a><a class="code" href="p4est__connectivity_8h.html#ab6dcdaf6247909a4bf21a817391781a8">P4EST_STRING</a>);</div>
<div class="line">  sc_options_add_switch (opt, 0, <span class="stringliteral">&quot;multiple-lnodes&quot;</span>,</div>
<div class="line">                         &amp;test_multiple_orders,</div>
<div class="line">                         <span class="stringliteral">&quot;Also time lnodes for orders 2, 4, and 8&quot;</span>);</div>
<div class="line">  sc_options_add_switch (opt, 0, <span class="stringliteral">&quot;skip-nodes&quot;</span>, &amp;skip_nodes, <span class="stringliteral">&quot;Skip nodes&quot;</span>);</div>
<div class="line">  sc_options_add_switch (opt, 0, <span class="stringliteral">&quot;skip-lnodes&quot;</span>, &amp;skip_lnodes, <span class="stringliteral">&quot;Skip lnodes&quot;</span>);</div>
<div class="line">  sc_options_add_switch (opt, 0, <span class="stringliteral">&quot;repartition-lnodes&quot;</span>,</div>
<div class="line">                         &amp;repartition_lnodes,</div>
<div class="line">                         <span class="stringliteral">&quot;Repartition to load-balance lnodes&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  first_argc = sc_options_parse (<a name="a11"></a><a class="code" href="p4est__base_8h.html#a8deb5ddec79dfbbadf8bbbf065ec5a9c">p4est_package_id</a>, SC_LP_DEFAULT,</div>
<div class="line">                                 opt, argc, argv);</div>
<div class="line">  <span class="keywordflow">if</span> (first_argc &lt; 0 || first_argc != argc) {</div>
<div class="line">    sc_options_print_usage (<a class="code" href="p4est__base_8h.html#a8deb5ddec79dfbbadf8bbbf065ec5a9c">p4est_package_id</a>, SC_LP_ERROR, opt, NULL);</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (max_ranges &lt; -1 || max_ranges == 0) {</div>
<div class="line">    P4EST_GLOBAL_LERROR (<span class="stringliteral">&quot;The -m / --max-ranges option must be positive\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line">  sc_options_print_summary (<a class="code" href="p4est__base_8h.html#a8deb5ddec79dfbbadf8bbbf065ec5a9c">p4est_package_id</a>, SC_LP_PRODUCTION, opt);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (skip_lnodes) {</div>
<div class="line">    <span class="keywordflow">if</span> (test_multiple_orders) {</div>
<div class="line">      SC_GLOBAL_PRODUCTION</div>
<div class="line">        (<span class="stringliteral">&quot;Warning: cannot test multiple lnode orders if --skip-lnodes is given.\n&quot;</span>);</div>
<div class="line">      test_multiple_orders = 0;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  wrongusage = 0;</div>
<div class="line">  config = P4EST_CONFIG_NULL;</div>
<div class="line">  <span class="keywordflow">if</span> (!strcmp (config_name, <span class="stringliteral">&quot;unit&quot;</span>)) {</div>
<div class="line">    config = P4EST_CONFIG_UNIT;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp (config_name, <span class="stringliteral">&quot;periodic&quot;</span>)) {</div>
<div class="line">    config = P4EST_CONFIG_PERIODIC;</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">#ifndef P4_TO_P8</span></div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp (config_name, <span class="stringliteral">&quot;three&quot;</span>)) {</div>
<div class="line">    config = P4EST_CONFIG_THREE;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp (config_name, <span class="stringliteral">&quot;moebius&quot;</span>)) {</div>
<div class="line">    config = P4EST_CONFIG_MOEBIUS;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp (config_name, <span class="stringliteral">&quot;star&quot;</span>)) {</div>
<div class="line">    config = P4EST_CONFIG_STAR;</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp (config_name, <span class="stringliteral">&quot;rotwrap&quot;</span>)) {</div>
<div class="line">    config = P4EST_CONFIG_ROTWRAP;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp (config_name, <span class="stringliteral">&quot;twocubes&quot;</span>)) {</div>
<div class="line">    config = P4EST_CONFIG_TWOCUBES;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp (config_name, <span class="stringliteral">&quot;rotcubes&quot;</span>)) {</div>
<div class="line">    config = P4EST_CONFIG_ROTCUBES;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp (config_name, <span class="stringliteral">&quot;shell&quot;</span>)) {</div>
<div class="line">    config = P4EST_CONFIG_SHELL;</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (load_name != NULL) {</div>
<div class="line">    config_name = load_name;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    wrongusage = 1;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (wrongusage) {</div>
<div class="line">    P4EST_GLOBAL_LERRORF (<span class="stringliteral">&quot;Wrong configuration name given: %s\n&quot;</span>,</div>
<div class="line">                          config_name);</div>
<div class="line">    sc_options_print_usage (<a class="code" href="p4est__base_8h.html#a8deb5ddec79dfbbadf8bbbf065ec5a9c">p4est_package_id</a>, SC_LP_ERROR, opt, NULL);</div>
<div class="line">    sc_abort_collective (<span class="stringliteral">&quot;Usage error&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* get command line argument: maximum refinement level */</span></div>
<div class="line">  level_shift = 4;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* print general setup information */</span></div>
<div class="line">  P4EST_GLOBAL_STATISTICSF</div>
<div class="line">    (<span class="stringliteral">&quot;Processors %d configuration %s level %d shift %d\n&quot;</span>, mpi-&gt;mpisize,</div>
<div class="line">     config_name, refine_level, level_shift);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* start overall timing */</span></div>
<div class="line">  mpiret = sc_MPI_Barrier (mpi-&gt;mpicomm);</div>
<div class="line">  SC_CHECK_MPI (mpiret);</div>
<div class="line">  sc_flops_start (&amp;fi);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* create connectivity and forest structures */</span></div>
<div class="line">  regression = NULL;</div>
<div class="line">  <span class="keywordflow">if</span> (load_name == NULL) {</div>
<div class="line"><span class="preprocessor">#ifndef P4_TO_P8</span></div>
<div class="line">    <span class="keywordflow">if</span> (config == P4EST_CONFIG_PERIODIC) {</div>
<div class="line">      connectivity = <a name="a12"></a><a class="code" href="p4est__connectivity_8h.html#ae65fe72b77b6f6c6825fc33efc101dab">p4est_connectivity_new_periodic</a> ();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (config == P4EST_CONFIG_THREE) {</div>
<div class="line">      connectivity = <a name="a13"></a><a class="code" href="p4est__connectivity_8h.html#ad6fcb80b167783b7ab298755473c8177">p4est_connectivity_new_corner</a> ();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (config == P4EST_CONFIG_MOEBIUS) {</div>
<div class="line">      connectivity = <a name="a14"></a><a class="code" href="p4est__connectivity_8h.html#a1e487dc9a4ba345cfffea3763eb822aa">p4est_connectivity_new_moebius</a> ();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (config == P4EST_CONFIG_STAR) {</div>
<div class="line">      connectivity = <a name="a15"></a><a class="code" href="p4est__connectivity_8h.html#a24d49c084093dd00d7a8b29c19541e63">p4est_connectivity_new_star</a> ();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      connectivity = <a name="a16"></a><a class="code" href="p4est__connectivity_8h.html#aab03936b137ccdc4fa7520e7e017fcf0">p4est_connectivity_new_unitsquare</a> ();</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">    <span class="keywordflow">if</span> (config == P4EST_CONFIG_PERIODIC) {</div>
<div class="line">      connectivity = <a name="a17"></a><a class="code" href="p8est__connectivity_8h.html#a1374c4c2fc06e436e047d32c28b87288">p8est_connectivity_new_periodic</a> ();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (config == P4EST_CONFIG_ROTWRAP) {</div>
<div class="line">      connectivity = <a name="a18"></a><a class="code" href="p8est__connectivity_8h.html#a9574e95e719a7cb31ce4c5a73bf3fa83">p8est_connectivity_new_rotwrap</a> ();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (config == P4EST_CONFIG_TWOCUBES) {</div>
<div class="line">      connectivity = <a name="a19"></a><a class="code" href="p8est__connectivity_8h.html#a71b16c2537992a3c1e4e51cb52ce76e4">p8est_connectivity_new_twocubes</a> ();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (config == P4EST_CONFIG_ROTCUBES) {</div>
<div class="line">      connectivity = <a name="a20"></a><a class="code" href="p8est__connectivity_8h.html#ac88e4c055b8847d3c9074c17c624da6e">p8est_connectivity_new_rotcubes</a> ();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (config == P4EST_CONFIG_SHELL) {</div>
<div class="line">      connectivity = <a name="a21"></a><a class="code" href="p8est__connectivity_8h.html#a8cbb255251c75f998d200aa3873fd359">p8est_connectivity_new_shell</a> ();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      connectivity = <a name="a22"></a><a class="code" href="p8est__connectivity_8h.html#a53bdb596e76c52c1e23aaecd0aacc763">p8est_connectivity_new_unitcube</a> ();</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* create new p4est from scratch */</span></div>
<div class="line">    <span class="keywordflow">if</span> (oldschool) {</div>
<div class="line">      regression = regression_oldschool;</div>
<div class="line">      <a class="code" href="structp4est.html">p4est</a> = <a name="a23"></a><a class="code" href="p4est__extended_8h.html#ac11cf572e8ac72c4beb78465f98b63f3">p4est_new_ext</a> (mpi-&gt;mpicomm, connectivity,</div>
<div class="line">                             15, 0, 0, 0, NULL, NULL);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      regression = regression_latest;</div>
<div class="line">      <a class="code" href="structp4est.html">p4est</a> = <a class="code" href="p4est__extended_8h.html#ac11cf572e8ac72c4beb78465f98b63f3">p4est_new_ext</a> (mpi-&gt;mpicomm, connectivity,</div>
<div class="line">                             0, refine_level - level_shift, 1, 0, NULL, NULL);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* print all available regression tests */</span></div>
<div class="line">    <span class="keywordflow">if</span> (generate) {</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">char</span>         *config_gname = NULL;</div>
<div class="line"> </div>
<div class="line">      P4EST_GLOBAL_PRODUCTION (<span class="stringliteral">&quot;Checksum regression tests available:\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">for</span> (r = regression; r-&gt;config != P4EST_CONFIG_NULL; ++r) {</div>
<div class="line">        <span class="keywordflow">switch</span> (r-&gt;config) {</div>
<div class="line">        <span class="keywordflow">case</span> P4EST_CONFIG_PERIODIC:</div>
<div class="line">          config_gname = <span class="stringliteral">&quot;periodic&quot;</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="preprocessor">#ifndef P4_TO_P8</span></div>
<div class="line">        <span class="keywordflow">case</span> P4EST_CONFIG_THREE:</div>
<div class="line">          config_gname = <span class="stringliteral">&quot;three&quot;</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> P4EST_CONFIG_MOEBIUS:</div>
<div class="line">          config_gname = <span class="stringliteral">&quot;moebius&quot;</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> P4EST_CONFIG_STAR:</div>
<div class="line">          config_gname = <span class="stringliteral">&quot;star&quot;</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">        <span class="keywordflow">case</span> P4EST_CONFIG_ROTWRAP:</div>
<div class="line">          config_gname = <span class="stringliteral">&quot;rotwrap&quot;</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> P4EST_CONFIG_TWOCUBES:</div>
<div class="line">          config_gname = <span class="stringliteral">&quot;twocubes&quot;</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> P4EST_CONFIG_ROTCUBES:</div>
<div class="line">          config_gname = <span class="stringliteral">&quot;rotcubes&quot;</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> P4EST_CONFIG_SHELL:</div>
<div class="line">          config_gname = <span class="stringliteral">&quot;shell&quot;</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">          config_gname = <span class="stringliteral">&quot;unit&quot;</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        P4EST_GLOBAL_PRODUCTIONF (<span class="stringliteral">&quot;mpirun -np %3d %s%s -c %10s -l %2d\n&quot;</span>,</div>
<div class="line">                                  r-&gt;mpisize, <a class="code" href="p4est__connectivity_8h.html#ab6dcdaf6247909a4bf21a817391781a8">P4EST_STRING</a> <span class="stringliteral">&quot;_timings&quot;</span>,</div>
<div class="line">                                  oldschool ? <span class="stringliteral">&quot; --oldschool&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                  config_gname, r-&gt;level);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    <a class="code" href="structp4est.html">p4est</a> = <a name="a24"></a><a class="code" href="p4est_8h.html#a9296defed7471c1a85d6dd2cc3d62f30">p4est_load</a> (load_name, mpi-&gt;mpicomm, 0, 0, NULL, &amp;connectivity);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a class="code" href="structp4est.html">p4est</a>-&gt;<a name="a25"></a><a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a> = <a name="a26"></a><a class="code" href="p4est__base_8h.html#ad50853c36f4d58ad6e34adc81ac00a1e">P4EST_ALLOC_ZERO</a> (<a name="_a27"></a><a class="code" href="structp4est__inspect.html">p4est_inspect_t</a>, 1);</div>
<div class="line">  <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a28"></a><a class="code" href="structp4est__inspect.html#af11cd9f378e72005aedba0dd9228095b">use_balance_ranges</a> = use_ranges;</div>
<div class="line">  <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a29"></a><a class="code" href="structp4est__inspect.html#ac34dec33477683aa433c272ffceb73b3">use_balance_ranges_notify</a> = use_ranges_notify;</div>
<div class="line">  <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a30"></a><a class="code" href="structp4est__inspect.html#af5c77d866e9fd3f94f7cc4a3bde79520">use_balance_verify</a> = use_balance_verify;</div>
<div class="line">  <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a31"></a><a class="code" href="structp4est__inspect.html#a7155df6e23babf6109c92cda3f251c6e">balance_max_ranges</a> = max_ranges;</div>
<div class="line">  P4EST_GLOBAL_STATISTICSF</div>
<div class="line">    (<span class="stringliteral">&quot;Balance: new overlap %d new subtree %d borders %d\n&quot;</span>, overlap,</div>
<div class="line">     (overlap &amp;&amp; subtree), (overlap &amp;&amp; borders));</div>
<div class="line">  quadrant_counts = <a name="a32"></a><a class="code" href="p4est__base_8h.html#a1fef909873d570158d6ac7b43c7d94f1">P4EST_ALLOC</a> (<a class="code" href="p4est__base_8h.html#a9f350ee78755ec6e7d25fb1dca474573">p4est_locidx_t</a>, <a class="code" href="structp4est.html">p4est</a>-&gt;<a name="a33"></a><a class="code" href="structp4est.html#a5858a68da810aa216a076578c49439fe">mpisize</a>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* time refine */</span></div>
<div class="line">  sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">  <a name="a34"></a><a class="code" href="p4est_8h.html#a1a31375edfa42b5609e7656233c32cca">p4est_refine</a> (<a class="code" href="structp4est.html">p4est</a>, 1, refine_fractal, NULL);</div>
<div class="line">  sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REFINE], snapshot.iwtime, <span class="stringliteral">&quot;Refine&quot;</span>);</div>
<div class="line"><span class="preprocessor">#ifdef P4EST_TIMINGS_VTK</span></div>
<div class="line">  <a name="a35"></a><a class="code" href="p4est__vtk_8h.html#a9e8a44b027b5372824a2c1ef2c17dea8">p4est_vtk_write_file</a> (<a class="code" href="structp4est.html">p4est</a>, <span class="stringliteral">&quot;timings_refined&quot;</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">  count_refined = <a class="code" href="structp4est.html">p4est</a>-&gt;<a name="a36"></a><a class="code" href="structp4est.html#a92c7d2fddd5c84a5245f4873d4f2026a">global_num_quadrants</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* time balance */</span></div>
<div class="line">  sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">  <a name="a37"></a><a class="code" href="p4est_8h.html#a6b603736cf5007b14755197a9c179a85">p4est_balance</a> (<a class="code" href="structp4est.html">p4est</a>, <a name="a38"></a><a class="code" href="p4est__connectivity_8h.html#adc5f6166fc408c325589ce3e620552caa5bf35c11d90c02cb481e9edadb51bda7">P4EST_CONNECT_FULL</a>, NULL);</div>
<div class="line">  sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE], snapshot.iwtime, <span class="stringliteral">&quot;Balance&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_A],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a39"></a>balance_A, <span class="stringliteral">&quot;Balance A time&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_COMM],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a40"></a>balance_comm, <span class="stringliteral">&quot;Balance comm time&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_B],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a41"></a>balance_B, <span class="stringliteral">&quot;Balance B time&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_A_COUNT_IN],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a42"></a>balance_A_count_in,</div>
<div class="line">                 <span class="stringliteral">&quot;Balance A count inlist&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_A_COUNT_OUT],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a43"></a>balance_A_count_out,</div>
<div class="line">                 <span class="stringliteral">&quot;Balance A count outlist&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_COMM_SENT],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a44"></a>balance_comm_sent,</div>
<div class="line">                 <span class="stringliteral">&quot;Balance sent second round&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_COMM_NZPEERS],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a45"></a>balance_comm_nzpeers,</div>
<div class="line">                 <span class="stringliteral">&quot;Balance nonzero peers second round&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_B_COUNT_IN],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a46"></a>balance_B_count_in,</div>
<div class="line">                 <span class="stringliteral">&quot;Balance B count inlist&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_B_COUNT_OUT],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a47"></a>balance_B_count_out,</div>
<div class="line">                 <span class="stringliteral">&quot;Balance B count outlist&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_RANGES],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a48"></a><a class="code" href="structp4est__inspect.html#ade5bd2879949227c41d29fbf34269d77">balance_ranges</a>, <span class="stringliteral">&quot;Balance time for ranges&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_NOTIFY],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a49"></a><a class="code" href="structp4est__inspect.html#a1231de4ab5b4d8bd357834aa8b205af8">balance_notify</a>, <span class="stringliteral">&quot;Balance time for notify&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_NOTIFY_ALLGATHER],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a50"></a><a class="code" href="structp4est__inspect.html#a3e452c81745d7bd41d5c195813c7881d">balance_notify_allgather</a>,</div>
<div class="line">                 <span class="stringliteral">&quot;Balance time for notify_allgather&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_A_ZERO_RECEIVES],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a51"></a>balance_zero_receives[0],</div>
<div class="line">                 <span class="stringliteral">&quot;Balance A zero receives&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_A_ZERO_SENDS],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;<a name="a52"></a>balance_zero_sends[0],</div>
<div class="line">                 <span class="stringliteral">&quot;Balance A zero sends&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_B_ZERO_RECEIVES],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_zero_receives[1],</div>
<div class="line">                 <span class="stringliteral">&quot;Balance B zero receives&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_BALANCE_B_ZERO_SENDS],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_zero_sends[1],</div>
<div class="line">                 <span class="stringliteral">&quot;Balance B zero sends&quot;</span>);</div>
<div class="line"><span class="preprocessor">#ifdef P4EST_TIMINGS_VTK</span></div>
<div class="line">  <a class="code" href="p4est__vtk_8h.html#a9e8a44b027b5372824a2c1ef2c17dea8">p4est_vtk_write_file</a> (<a class="code" href="structp4est.html">p4est</a>, <span class="stringliteral">&quot;timings_balanced&quot;</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">  count_balanced = <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a92c7d2fddd5c84a5245f4873d4f2026a">global_num_quadrants</a>;</div>
<div class="line">  crc = <a name="a53"></a><a class="code" href="p4est_8h.html#ad1e90b05434a0cf76f1f44af7f72ef66">p4est_checksum</a> (<a class="code" href="structp4est.html">p4est</a>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* time rebalance - is a noop on the tree */</span></div>
<div class="line">  sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">  <a class="code" href="p4est_8h.html#a6b603736cf5007b14755197a9c179a85">p4est_balance</a> (<a class="code" href="structp4est.html">p4est</a>, <a class="code" href="p4est__connectivity_8h.html#adc5f6166fc408c325589ce3e620552caa5bf35c11d90c02cb481e9edadb51bda7">P4EST_CONNECT_FULL</a>, NULL);</div>
<div class="line">  sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE], snapshot.iwtime, <span class="stringliteral">&quot;Rebalance&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE_A],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_A, <span class="stringliteral">&quot;Rebalance A time&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE_COMM],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_comm, <span class="stringliteral">&quot;Rebalance comm time&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE_B],</div>
<div class="line">                 <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_B, <span class="stringliteral">&quot;Rebalance B time&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE_A_COUNT_IN],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_A_count_in,</div>
<div class="line">                 <span class="stringliteral">&quot;Rebalance A count inlist&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE_A_COUNT_OUT],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_A_count_out,</div>
<div class="line">                 <span class="stringliteral">&quot;Rebalance A count outlist&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE_COMM_SENT],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_comm_sent,</div>
<div class="line">                 <span class="stringliteral">&quot;Rebalance sent second round&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE_COMM_NZPEERS],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_comm_nzpeers,</div>
<div class="line">                 <span class="stringliteral">&quot;Rebalance nonzero peers second round&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE_B_COUNT_IN],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_B_count_in,</div>
<div class="line">                 <span class="stringliteral">&quot;Rebalance B count inlist&quot;</span>);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REBALANCE_B_COUNT_OUT],</div>
<div class="line">                 (<span class="keywordtype">double</span>) <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>-&gt;balance_B_count_out,</div>
<div class="line">                 <span class="stringliteral">&quot;Rebalance B count outlist&quot;</span>);</div>
<div class="line">  P4EST_ASSERT (count_balanced == <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a92c7d2fddd5c84a5245f4873d4f2026a">global_num_quadrants</a>);</div>
<div class="line">  P4EST_ASSERT (crc == <a class="code" href="p4est_8h.html#ad1e90b05434a0cf76f1f44af7f72ef66">p4est_checksum</a> (<a class="code" href="structp4est.html">p4est</a>));</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* time a uniform partition */</span></div>
<div class="line">  sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">  <a name="a54"></a><a class="code" href="p4est_8h.html#a54c1f4e6bc35c181952371a8046523aa">p4est_partition</a> (<a class="code" href="structp4est.html">p4est</a>, 0, NULL);</div>
<div class="line">  sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_PARTITION], snapshot.iwtime, <span class="stringliteral">&quot;Partition&quot;</span>);</div>
<div class="line"><span class="preprocessor">#ifdef P4EST_TIMINGS_VTK</span></div>
<div class="line">  <a class="code" href="p4est__vtk_8h.html#a9e8a44b027b5372824a2c1ef2c17dea8">p4est_vtk_write_file</a> (<a class="code" href="structp4est.html">p4est</a>, <span class="stringliteral">&quot;timings_partitioned&quot;</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">  P4EST_ASSERT (crc == <a class="code" href="p4est_8h.html#ad1e90b05434a0cf76f1f44af7f72ef66">p4est_checksum</a> (<a class="code" href="structp4est.html">p4est</a>));</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* time building the ghost layer */</span></div>
<div class="line">  sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">  ghost = <a name="a55"></a><a class="code" href="p4est__ghost_8h.html#a34a0bfb7169437f6fc2382a67c47e89d">p4est_ghost_new</a> (<a class="code" href="structp4est.html">p4est</a>, <a class="code" href="p4est__connectivity_8h.html#adc5f6166fc408c325589ce3e620552caa5bf35c11d90c02cb481e9edadb51bda7">P4EST_CONNECT_FULL</a>);</div>
<div class="line">  sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_GHOSTS], snapshot.iwtime, <span class="stringliteral">&quot;Ghost layer&quot;</span>);</div>
<div class="line">  gcrc = <a name="a56"></a><a class="code" href="p4est__ghost_8h.html#ab117a104ade0f5032a2a0f4c03b4462d">p4est_ghost_checksum</a> (<a class="code" href="structp4est.html">p4est</a>, ghost);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* time the node numbering */</span></div>
<div class="line">  <span class="keywordflow">if</span> (!skip_nodes) {</div>
<div class="line">    sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">    nodes = p4est_nodes_new (<a class="code" href="structp4est.html">p4est</a>, ghost);</div>
<div class="line">    sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">    sc_stats_set1 (&amp;stats[TIMINGS_NODES], snapshot.iwtime, <span class="stringliteral">&quot;Nodes&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    sc_stats_set1 (&amp;stats[TIMINGS_NODES], 0., <span class="stringliteral">&quot;Nodes&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* set this anyway so the output format is dimension independent */</span></div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_TRILINEAR_OBSOLETE], 0., <span class="stringliteral">&quot;Unused&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!skip_nodes) {</div>
<div class="line">    p4est_nodes_destroy (nodes);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!skip_lnodes &amp;&amp; repartition_lnodes) {</div>
<div class="line">    <a name="a57"></a><a class="code" href="p4est__lnodes_8h.html#a838a5869a10015c19af18f98d04b19e1">p4est_partition_lnodes</a> (<a class="code" href="structp4est.html">p4est</a>, ghost, 1, 0);</div>
<div class="line">    <a name="a58"></a><a class="code" href="p4est__ghost_8h.html#a4b4ae4fa996d0b8705d6267953c3e757">p4est_ghost_destroy</a> (ghost);</div>
<div class="line">    ghost = <a class="code" href="p4est__ghost_8h.html#a34a0bfb7169437f6fc2382a67c47e89d">p4est_ghost_new</a> (<a class="code" href="structp4est.html">p4est</a>, <a class="code" href="p4est__connectivity_8h.html#adc5f6166fc408c325589ce3e620552caa5bf35c11d90c02cb481e9edadb51bda7">P4EST_CONNECT_FULL</a>);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* time the lnode numbering */</span></div>
<div class="line">  <span class="keywordflow">if</span> (!skip_lnodes) {</div>
<div class="line">    sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">    lnodes = <a name="a59"></a><a class="code" href="p4est__lnodes_8h.html#af5aea4df6408e9ec5065e0b23f96e157">p4est_lnodes_new</a> (<a class="code" href="structp4est.html">p4est</a>, ghost, 1);</div>
<div class="line">    sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">    sc_stats_set1 (&amp;stats[TIMINGS_LNODES], snapshot.iwtime, <span class="stringliteral">&quot;L-Nodes&quot;</span>);</div>
<div class="line">    <a name="a60"></a><a class="code" href="p4est__lnodes_8h.html#ab0d0d912d5e6212b1b924bca21e922f5">p4est_lnodes_destroy</a> (lnodes);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    sc_stats_set1 (&amp;stats[TIMINGS_LNODES], 0., <span class="stringliteral">&quot;L-Nodes&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (test_multiple_orders) {</div>
<div class="line">    <span class="keywordflow">if</span> (repartition_lnodes) {</div>
<div class="line">      <a class="code" href="p4est__lnodes_8h.html#a838a5869a10015c19af18f98d04b19e1">p4est_partition_lnodes</a> (<a class="code" href="structp4est.html">p4est</a>, ghost, 3, 0);</div>
<div class="line">      <a class="code" href="p4est__ghost_8h.html#a4b4ae4fa996d0b8705d6267953c3e757">p4est_ghost_destroy</a> (ghost);</div>
<div class="line">      ghost = <a class="code" href="p4est__ghost_8h.html#a34a0bfb7169437f6fc2382a67c47e89d">p4est_ghost_new</a> (<a class="code" href="structp4est.html">p4est</a>, <a class="code" href="p4est__connectivity_8h.html#adc5f6166fc408c325589ce3e620552caa5bf35c11d90c02cb481e9edadb51bda7">P4EST_CONNECT_FULL</a>);</div>
<div class="line">    }</div>
<div class="line">    sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">    lnodes = <a class="code" href="p4est__lnodes_8h.html#af5aea4df6408e9ec5065e0b23f96e157">p4est_lnodes_new</a> (<a class="code" href="structp4est.html">p4est</a>, ghost, 3);</div>
<div class="line">    sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">    sc_stats_set1 (&amp;stats[TIMINGS_LNODES3], snapshot.iwtime, <span class="stringliteral">&quot;L-Nodes 3&quot;</span>);</div>
<div class="line">    <a class="code" href="p4est__lnodes_8h.html#ab0d0d912d5e6212b1b924bca21e922f5">p4est_lnodes_destroy</a> (lnodes);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (repartition_lnodes) {</div>
<div class="line">      <a class="code" href="p4est__lnodes_8h.html#a838a5869a10015c19af18f98d04b19e1">p4est_partition_lnodes</a> (<a class="code" href="structp4est.html">p4est</a>, ghost, 7, 0);</div>
<div class="line">      <a class="code" href="p4est__ghost_8h.html#a4b4ae4fa996d0b8705d6267953c3e757">p4est_ghost_destroy</a> (ghost);</div>
<div class="line">      ghost = <a class="code" href="p4est__ghost_8h.html#a34a0bfb7169437f6fc2382a67c47e89d">p4est_ghost_new</a> (<a class="code" href="structp4est.html">p4est</a>, <a class="code" href="p4est__connectivity_8h.html#adc5f6166fc408c325589ce3e620552caa5bf35c11d90c02cb481e9edadb51bda7">P4EST_CONNECT_FULL</a>);</div>
<div class="line">    }</div>
<div class="line">    sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">    lnodes = <a class="code" href="p4est__lnodes_8h.html#af5aea4df6408e9ec5065e0b23f96e157">p4est_lnodes_new</a> (<a class="code" href="structp4est.html">p4est</a>, ghost, 7);</div>
<div class="line">    sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">    sc_stats_set1 (&amp;stats[TIMINGS_LNODES7], snapshot.iwtime, <span class="stringliteral">&quot;L-Nodes 7&quot;</span>);</div>
<div class="line">    <a class="code" href="p4est__lnodes_8h.html#ab0d0d912d5e6212b1b924bca21e922f5">p4est_lnodes_destroy</a> (lnodes);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    sc_stats_set1 (&amp;stats[TIMINGS_LNODES3], 0., <span class="stringliteral">&quot;L-Nodes 3&quot;</span>);</div>
<div class="line">    sc_stats_set1 (&amp;stats[TIMINGS_LNODES7], 0., <span class="stringliteral">&quot;L-Nodes 7&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a class="code" href="p4est__ghost_8h.html#a4b4ae4fa996d0b8705d6267953c3e757">p4est_ghost_destroy</a> (ghost);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* time a partition with a shift of all elements by one processor */</span></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0, next_quadrant = 0; i &lt; <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a5858a68da810aa216a076578c49439fe">mpisize</a>; ++i) {</div>
<div class="line">    prev_quadrant = next_quadrant;</div>
<div class="line">    next_quadrant = (<a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a92c7d2fddd5c84a5245f4873d4f2026a">global_num_quadrants</a> * (i + 1)) / <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a5858a68da810aa216a076578c49439fe">mpisize</a>;</div>
<div class="line">    quadrant_counts[i] = (<a name="a61"></a><a class="code" href="p4est__base_8h.html#a9f350ee78755ec6e7d25fb1dca474573">p4est_locidx_t</a>) (next_quadrant - prev_quadrant);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a5858a68da810aa216a076578c49439fe">mpisize</a> &gt; 1) {</div>
<div class="line">    quadrant_counts[0] += quadrant_counts[<a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a5858a68da810aa216a076578c49439fe">mpisize</a> - 1];  <span class="comment">/* same type */</span></div>
<div class="line">    quadrant_counts[<a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a5858a68da810aa216a076578c49439fe">mpisize</a> - 1] = 0;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  sc_flops_snap (&amp;fi, &amp;snapshot);</div>
<div class="line">  global_shipped = <a name="a62"></a><a class="code" href="p4est__algorithms_8h.html#a85ebc40fdba570a0e97c982b490e0858">p4est_partition_given</a> (<a class="code" href="structp4est.html">p4est</a>, quadrant_counts);</div>
<div class="line">  sc_flops_shot (&amp;fi, &amp;snapshot);</div>
<div class="line">  sc_stats_set1 (&amp;stats[TIMINGS_REPARTITION], snapshot.iwtime, <span class="stringliteral">&quot;Repartition&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  P4EST_GLOBAL_PRODUCTIONF</div>
<div class="line">    (<span class="stringliteral">&quot;Done &quot;</span> <a class="code" href="p4est__connectivity_8h.html#ab6dcdaf6247909a4bf21a817391781a8">P4EST_STRING</a> <span class="stringliteral">&quot;_partition_given shipped %lld quadrants %.3g%%\n&quot;</span>,</div>
<div class="line">     (<span class="keywordtype">long</span> <span class="keywordtype">long</span>) global_shipped,</div>
<div class="line">     global_shipped * 100. / <a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a92c7d2fddd5c84a5245f4873d4f2026a">global_num_quadrants</a>);</div>
<div class="line">  P4EST_ASSERT (crc == <a class="code" href="p4est_8h.html#ad1e90b05434a0cf76f1f44af7f72ef66">p4est_checksum</a> (<a class="code" href="structp4est.html">p4est</a>));</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* verify forest checksum */</span></div>
<div class="line">  <span class="keywordflow">if</span> (regression != NULL &amp;&amp; mpi-&gt;mpirank == 0) {</div>
<div class="line">    <span class="keywordflow">for</span> (r = regression; r-&gt;config != P4EST_CONFIG_NULL; ++r) {</div>
<div class="line">      <span class="keywordflow">if</span> (r-&gt;config != config || r-&gt;mpisize != mpi-&gt;mpisize</div>
<div class="line">          || r-&gt;level != refine_level)</div>
<div class="line">        <span class="keywordflow">continue</span>;</div>
<div class="line">      SC_CHECK_ABORT (crc == r-&gt;checksum, <span class="stringliteral">&quot;Checksum mismatch&quot;</span>);</div>
<div class="line">      P4EST_GLOBAL_INFO (<span class="stringliteral">&quot;Checksum regression OK\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* print status and checksum */</span></div>
<div class="line">  P4EST_GLOBAL_STATISTICSF (<span class="stringliteral">&quot;Processors %d level %d shift %d&quot;</span></div>
<div class="line">                            <span class="stringliteral">&quot; checksums 0x%08x 0x%08x\n&quot;</span>,</div>
<div class="line">                            mpi-&gt;mpisize, refine_level, level_shift,</div>
<div class="line">                            crc, gcrc);</div>
<div class="line">  P4EST_GLOBAL_STATISTICSF (<span class="stringliteral">&quot;Level %d refined to %lld balanced to %lld\n&quot;</span>,</div>
<div class="line">                            refine_level, (<span class="keywordtype">long</span> <span class="keywordtype">long</span>) count_refined,</div>
<div class="line">                            (<span class="keywordtype">long</span> <span class="keywordtype">long</span>) count_balanced);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* calculate and print timings */</span></div>
<div class="line">  sc_stats_compute (mpi-&gt;mpicomm, TIMINGS_NUM_STATS, stats);</div>
<div class="line">  sc_stats_print (<a class="code" href="p4est__base_8h.html#a8deb5ddec79dfbbadf8bbbf065ec5a9c">p4est_package_id</a>, SC_LP_ESSENTIAL,</div>
<div class="line">                  TIMINGS_NUM_STATS, stats, 1, 1);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* destroy the p4est and its connectivity structure */</span></div>
<div class="line">  <a name="a63"></a><a class="code" href="p4est__base_8h.html#a0b2d45f13b66edfed0ccfde75808c745">P4EST_FREE</a> (quadrant_counts);</div>
<div class="line">  <a class="code" href="p4est__base_8h.html#a0b2d45f13b66edfed0ccfde75808c745">P4EST_FREE</a> (<a class="code" href="structp4est.html">p4est</a>-&gt;<a class="code" href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">inspect</a>);</div>
<div class="line">  <a name="a64"></a><a class="code" href="p4est_8h.html#a1e78f347378fe8b097ef019214f2338e">p4est_destroy</a> (<a class="code" href="structp4est.html">p4est</a>);</div>
<div class="line">  <a name="a65"></a><a class="code" href="p4est__connectivity_8h.html#a208e613cae5e1bd3baffb587387b672c">p4est_connectivity_destroy</a> (connectivity);</div>
<div class="line"> </div>
<div class="line">  sc_options_destroy (opt);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* clean up and exit */</span></div>
<div class="line">  sc_finalize ();</div>
<div class="line"> </div>
<div class="line">  mpiret = sc_MPI_Finalize ();</div>
<div class="line">  SC_CHECK_MPI (mpiret);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="ap4est_8h_html_a1a31375edfa42b5609e7656233c32cca"><div class="ttname"><a href="p4est_8h.html#a1a31375edfa42b5609e7656233c32cca">p4est_refine</a></div><div class="ttdeci">void p4est_refine(p4est_t *p4est, int refine_recursive, p4est_refine_t refine_fn, p4est_init_t init_fn)</div><div class="ttdoc">Refine a forest.</div></div>
<div class="ttc" id="ap4est_8h_html_a1e78f347378fe8b097ef019214f2338e"><div class="ttname"><a href="p4est_8h.html#a1e78f347378fe8b097ef019214f2338e">p4est_destroy</a></div><div class="ttdeci">void p4est_destroy(p4est_t *p4est)</div><div class="ttdoc">Destroy a p4est.</div></div>
<div class="ttc" id="ap4est_8h_html_a54c1f4e6bc35c181952371a8046523aa"><div class="ttname"><a href="p4est_8h.html#a54c1f4e6bc35c181952371a8046523aa">p4est_partition</a></div><div class="ttdeci">void p4est_partition(p4est_t *p4est, int allow_for_coarsening, p4est_weight_t weight_fn)</div><div class="ttdoc">Equally partition the forest.</div></div>
<div class="ttc" id="ap4est_8h_html_a6b603736cf5007b14755197a9c179a85"><div class="ttname"><a href="p4est_8h.html#a6b603736cf5007b14755197a9c179a85">p4est_balance</a></div><div class="ttdeci">void p4est_balance(p4est_t *p4est, p4est_connect_type_t btype, p4est_init_t init_fn)</div><div class="ttdoc">2:1 balance the size differences of neighboring elements in a forest.</div></div>
<div class="ttc" id="ap4est_8h_html_a9296defed7471c1a85d6dd2cc3d62f30"><div class="ttname"><a href="p4est_8h.html#a9296defed7471c1a85d6dd2cc3d62f30">p4est_load</a></div><div class="ttdeci">p4est_t * p4est_load(const char *filename, sc_MPI_Comm mpicomm, size_t data_size, int load_data, void *user_pointer, p4est_connectivity_t **connectivity)</div><div class="ttdoc">Load the complete connectivity/p4est structure from disk.</div></div>
<div class="ttc" id="ap4est_8h_html_ad1e90b05434a0cf76f1f44af7f72ef66"><div class="ttname"><a href="p4est_8h.html#ad1e90b05434a0cf76f1f44af7f72ef66">p4est_checksum</a></div><div class="ttdeci">unsigned p4est_checksum(p4est_t *p4est)</div><div class="ttdoc">Compute the checksum for a forest.</div></div>
<div class="ttc" id="ap4est__algorithms_8h_html"><div class="ttname"><a href="p4est__algorithms_8h.html">p4est_algorithms.h</a></div><div class="ttdoc">Routines for managing quadrants as elements of trees and subtrees.</div></div>
<div class="ttc" id="ap4est__algorithms_8h_html_a85ebc40fdba570a0e97c982b490e0858"><div class="ttname"><a href="p4est__algorithms_8h.html#a85ebc40fdba570a0e97c982b490e0858">p4est_partition_given</a></div><div class="ttdeci">p4est_gloidx_t p4est_partition_given(p4est_t *p4est, const p4est_locidx_t *num_quadrants_in_proc)</div><div class="ttdoc">Partition p4est given the number of quadrants per proc.</div></div>
<div class="ttc" id="ap4est__base_8h_html_a0b2d45f13b66edfed0ccfde75808c745"><div class="ttname"><a href="p4est__base_8h.html#a0b2d45f13b66edfed0ccfde75808c745">P4EST_FREE</a></div><div class="ttdeci">#define P4EST_FREE(p)</div><div class="ttdoc">free an allocated array</div><div class="ttdef"><b>Definition:</b> p4est_base.h:210</div></div>
<div class="ttc" id="ap4est__base_8h_html_a1fef909873d570158d6ac7b43c7d94f1"><div class="ttname"><a href="p4est__base_8h.html#a1fef909873d570158d6ac7b43c7d94f1">P4EST_ALLOC</a></div><div class="ttdeci">#define P4EST_ALLOC(t, n)</div><div class="ttdoc">allocate a t-array with n elements</div><div class="ttdef"><b>Definition:</b> p4est_base.h:199</div></div>
<div class="ttc" id="ap4est__base_8h_html_a8deb5ddec79dfbbadf8bbbf065ec5a9c"><div class="ttname"><a href="p4est__base_8h.html#a8deb5ddec79dfbbadf8bbbf065ec5a9c">p4est_package_id</a></div><div class="ttdeci">int p4est_package_id</div><div class="ttdoc">the libsc package id for p4est (set in p4est_init())</div></div>
<div class="ttc" id="ap4est__base_8h_html_a8e849f705b0d4d1702b8f5102823f48c"><div class="ttname"><a href="p4est__base_8h.html#a8e849f705b0d4d1702b8f5102823f48c">p4est_topidx_t</a></div><div class="ttdeci">int32_t p4est_topidx_t</div><div class="ttdoc">Typedef for counting topological entities (trees, tree vertices).</div><div class="ttdef"><b>Definition:</b> p4est_base.h:93</div></div>
<div class="ttc" id="ap4est__base_8h_html_a9f350ee78755ec6e7d25fb1dca474573"><div class="ttname"><a href="p4est__base_8h.html#a9f350ee78755ec6e7d25fb1dca474573">p4est_locidx_t</a></div><div class="ttdeci">int32_t p4est_locidx_t</div><div class="ttdoc">Typedef for processor-local indexing of quadrants and nodes.</div><div class="ttdef"><b>Definition:</b> p4est_base.h:106</div></div>
<div class="ttc" id="ap4est__base_8h_html_aab4b16aa58790d309e0cf46ed665c6b9"><div class="ttname"><a href="p4est__base_8h.html#aab4b16aa58790d309e0cf46ed665c6b9">p4est_init</a></div><div class="ttdeci">void p4est_init(sc_log_handler_t log_handler, int log_threshold)</div><div class="ttdoc">Registers p4est with the SC Library and sets the logging behavior.</div></div>
<div class="ttc" id="ap4est__base_8h_html_ad50853c36f4d58ad6e34adc81ac00a1e"><div class="ttname"><a href="p4est__base_8h.html#ad50853c36f4d58ad6e34adc81ac00a1e">P4EST_ALLOC_ZERO</a></div><div class="ttdeci">#define P4EST_ALLOC_ZERO(t, n)</div><div class="ttdoc">allocate a t-array with n elements and zero</div><div class="ttdef"><b>Definition:</b> p4est_base.h:202</div></div>
<div class="ttc" id="ap4est__base_8h_html_af4d787f9b2520af0cfe9a10b89235749"><div class="ttname"><a href="p4est__base_8h.html#af4d787f9b2520af0cfe9a10b89235749">p4est_gloidx_t</a></div><div class="ttdeci">int64_t p4est_gloidx_t</div><div class="ttdoc">Typedef for globally unique indexing of quadrants.</div><div class="ttdef"><b>Definition:</b> p4est_base.h:118</div></div>
<div class="ttc" id="ap4est__bits_8h_html"><div class="ttname"><a href="p4est__bits_8h.html">p4est_bits.h</a></div><div class="ttdoc">Routines for manipulating quadrants (neighbors, parents, children, etc.)</div></div>
<div class="ttc" id="ap4est__bits_8h_html_a2b0cbbd87c0bc9d640fb0ee8b32d9a0f"><div class="ttname"><a href="p4est__bits_8h.html#a2b0cbbd87c0bc9d640fb0ee8b32d9a0f">p4est_quadrant_child_id</a></div><div class="ttdeci">int p4est_quadrant_child_id(const p4est_quadrant_t *q)</div><div class="ttdoc">Compute the position of this child within its siblings.</div></div>
<div class="ttc" id="ap4est__connectivity_8h_html_a1e487dc9a4ba345cfffea3763eb822aa"><div class="ttname"><a href="p4est__connectivity_8h.html#a1e487dc9a4ba345cfffea3763eb822aa">p4est_connectivity_new_moebius</a></div><div class="ttdeci">p4est_connectivity_t * p4est_connectivity_new_moebius(void)</div><div class="ttdoc">Create a connectivity structure for a five-tree moebius band.</div></div>
<div class="ttc" id="ap4est__connectivity_8h_html_a208e613cae5e1bd3baffb587387b672c"><div class="ttname"><a href="p4est__connectivity_8h.html#a208e613cae5e1bd3baffb587387b672c">p4est_connectivity_destroy</a></div><div class="ttdeci">void p4est_connectivity_destroy(p4est_connectivity_t *connectivity)</div><div class="ttdoc">Destroy a connectivity structure.</div></div>
<div class="ttc" id="ap4est__connectivity_8h_html_a24d49c084093dd00d7a8b29c19541e63"><div class="ttname"><a href="p4est__connectivity_8h.html#a24d49c084093dd00d7a8b29c19541e63">p4est_connectivity_new_star</a></div><div class="ttdeci">p4est_connectivity_t * p4est_connectivity_new_star(void)</div><div class="ttdoc">Create a connectivity structure for a six-tree star.</div></div>
<div class="ttc" id="ap4est__connectivity_8h_html_a2c4786e65053166a16b7afb2711d35cb"><div class="ttname"><a href="p4est__connectivity_8h.html#a2c4786e65053166a16b7afb2711d35cb">P4EST_DIM</a></div><div class="ttdeci">#define P4EST_DIM</div><div class="ttdoc">The spatial dimension.</div><div class="ttdef"><b>Definition:</b> p4est_connectivity.h:71</div></div>
<div class="ttc" id="ap4est__connectivity_8h_html_aab03936b137ccdc4fa7520e7e017fcf0"><div class="ttname"><a href="p4est__connectivity_8h.html#aab03936b137ccdc4fa7520e7e017fcf0">p4est_connectivity_new_unitsquare</a></div><div class="ttdeci">p4est_connectivity_t * p4est_connectivity_new_unitsquare(void)</div><div class="ttdoc">Create a connectivity structure for the unit square.</div></div>
<div class="ttc" id="ap4est__connectivity_8h_html_ab6dcdaf6247909a4bf21a817391781a8"><div class="ttname"><a href="p4est__connectivity_8h.html#ab6dcdaf6247909a4bf21a817391781a8">P4EST_STRING</a></div><div class="ttdeci">#define P4EST_STRING</div><div class="ttdoc">p4est identification string</div><div class="ttdef"><b>Definition:</b> p4est_connectivity.h:94</div></div>
<div class="ttc" id="ap4est__connectivity_8h_html_ad6fcb80b167783b7ab298755473c8177"><div class="ttname"><a href="p4est__connectivity_8h.html#ad6fcb80b167783b7ab298755473c8177">p4est_connectivity_new_corner</a></div><div class="ttdeci">p4est_connectivity_t * p4est_connectivity_new_corner(void)</div><div class="ttdoc">Create a connectivity structure for a three-tree mesh around a corner.</div></div>
<div class="ttc" id="ap4est__connectivity_8h_html_adc5f6166fc408c325589ce3e620552caa5bf35c11d90c02cb481e9edadb51bda7"><div class="ttname"><a href="p4est__connectivity_8h.html#adc5f6166fc408c325589ce3e620552caa5bf35c11d90c02cb481e9edadb51bda7">P4EST_CONNECT_FULL</a></div><div class="ttdeci">@ P4EST_CONNECT_FULL</div><div class="ttdoc">= CORNER.</div><div class="ttdef"><b>Definition:</b> p4est_connectivity.h:119</div></div>
<div class="ttc" id="ap4est__connectivity_8h_html_ae65fe72b77b6f6c6825fc33efc101dab"><div class="ttname"><a href="p4est__connectivity_8h.html#ae65fe72b77b6f6c6825fc33efc101dab">p4est_connectivity_new_periodic</a></div><div class="ttdeci">p4est_connectivity_t * p4est_connectivity_new_periodic(void)</div><div class="ttdoc">Create a connectivity structure for an all-periodic unit square.</div></div>
<div class="ttc" id="ap4est__extended_8h_html"><div class="ttname"><a href="p4est__extended_8h.html">p4est_extended.h</a></div><div class="ttdoc">Interface routines with extended capabilities.</div></div>
<div class="ttc" id="ap4est__extended_8h_html_ac11cf572e8ac72c4beb78465f98b63f3"><div class="ttname"><a href="p4est__extended_8h.html#ac11cf572e8ac72c4beb78465f98b63f3">p4est_new_ext</a></div><div class="ttdeci">p4est_t * p4est_new_ext(sc_MPI_Comm mpicomm, p4est_connectivity_t *connectivity, p4est_locidx_t min_quadrants, int min_level, int fill_uniform, size_t data_size, p4est_init_t init_fn, void *user_pointer)</div><div class="ttdoc">Create a new forest.</div></div>
<div class="ttc" id="ap4est__ghost_8h_html"><div class="ttname"><a href="p4est__ghost_8h.html">p4est_ghost.h</a></div><div class="ttdoc">Passing quadrants and data to neighboring processes.</div></div>
<div class="ttc" id="ap4est__ghost_8h_html_a34a0bfb7169437f6fc2382a67c47e89d"><div class="ttname"><a href="p4est__ghost_8h.html#a34a0bfb7169437f6fc2382a67c47e89d">p4est_ghost_new</a></div><div class="ttdeci">p4est_ghost_t * p4est_ghost_new(p4est_t *p4est, p4est_connect_type_t btype)</div><div class="ttdoc">Builds the ghost layer.</div></div>
<div class="ttc" id="ap4est__ghost_8h_html_a4b4ae4fa996d0b8705d6267953c3e757"><div class="ttname"><a href="p4est__ghost_8h.html#a4b4ae4fa996d0b8705d6267953c3e757">p4est_ghost_destroy</a></div><div class="ttdeci">void p4est_ghost_destroy(p4est_ghost_t *ghost)</div><div class="ttdoc">Frees all memory used for the ghost layer.</div></div>
<div class="ttc" id="ap4est__ghost_8h_html_ab117a104ade0f5032a2a0f4c03b4462d"><div class="ttname"><a href="p4est__ghost_8h.html#ab117a104ade0f5032a2a0f4c03b4462d">p4est_ghost_checksum</a></div><div class="ttdeci">unsigned p4est_ghost_checksum(p4est_t *p4est, p4est_ghost_t *ghost)</div><div class="ttdoc">Compute the parallel checksum of a ghost layer.</div></div>
<div class="ttc" id="ap4est__lnodes_8h_html"><div class="ttname"><a href="p4est__lnodes_8h.html">p4est_lnodes.h</a></div><div class="ttdoc">Generate Lobatto node numbers for any degree.</div></div>
<div class="ttc" id="ap4est__lnodes_8h_html_a838a5869a10015c19af18f98d04b19e1"><div class="ttname"><a href="p4est__lnodes_8h.html#a838a5869a10015c19af18f98d04b19e1">p4est_partition_lnodes</a></div><div class="ttdeci">void p4est_partition_lnodes(p4est_t *p4est, p4est_ghost_t *ghost, int degree, int partition_for_coarsening)</div><div class="ttdoc">Partition using weights based on the number of nodes assigned to each element in lnodes.</div></div>
<div class="ttc" id="ap4est__lnodes_8h_html_ab0d0d912d5e6212b1b924bca21e922f5"><div class="ttname"><a href="p4est__lnodes_8h.html#ab0d0d912d5e6212b1b924bca21e922f5">p4est_lnodes_destroy</a></div><div class="ttdeci">void p4est_lnodes_destroy(p4est_lnodes_t *lnodes)</div><div class="ttdoc">Free all memory in a previously constructed lnodes structure.</div></div>
<div class="ttc" id="ap4est__lnodes_8h_html_af5aea4df6408e9ec5065e0b23f96e157"><div class="ttname"><a href="p4est__lnodes_8h.html#af5aea4df6408e9ec5065e0b23f96e157">p4est_lnodes_new</a></div><div class="ttdeci">p4est_lnodes_t * p4est_lnodes_new(p4est_t *p4est, p4est_ghost_t *ghost_layer, int degree)</div><div class="ttdoc">Create a tensor-product Lobatto node structure for a given degree.</div></div>
<div class="ttc" id="ap4est__vtk_8h_html"><div class="ttname"><a href="p4est__vtk_8h.html">p4est_vtk.h</a></div><div class="ttdoc">Routines for printing a forest and associated fields to VTK format.</div></div>
<div class="ttc" id="ap4est__vtk_8h_html_a9e8a44b027b5372824a2c1ef2c17dea8"><div class="ttname"><a href="p4est__vtk_8h.html#a9e8a44b027b5372824a2c1ef2c17dea8">p4est_vtk_write_file</a></div><div class="ttdeci">void p4est_vtk_write_file(p4est_t *p4est, p4est_geometry_t *geom, const char *filename)</div><div class="ttdoc">Write the p4est in VTK format.</div></div>
<div class="ttc" id="ap8est__algorithms_8h_html"><div class="ttname"><a href="p8est__algorithms_8h.html">p8est_algorithms.h</a></div><div class="ttdoc">Routines for managing quadrants as elements of trees and subtrees.</div></div>
<div class="ttc" id="ap8est__bits_8h_html"><div class="ttname"><a href="p8est__bits_8h.html">p8est_bits.h</a></div><div class="ttdoc">Routines for manipulating quadrants (neighbors, parents, children, etc.)</div></div>
<div class="ttc" id="ap8est__connectivity_8h_html_a1374c4c2fc06e436e047d32c28b87288"><div class="ttname"><a href="p8est__connectivity_8h.html#a1374c4c2fc06e436e047d32c28b87288">p8est_connectivity_new_periodic</a></div><div class="ttdeci">p8est_connectivity_t * p8est_connectivity_new_periodic(void)</div><div class="ttdoc">Create a connectivity structure for an all-periodic unit cube.</div></div>
<div class="ttc" id="ap8est__connectivity_8h_html_a53bdb596e76c52c1e23aaecd0aacc763"><div class="ttname"><a href="p8est__connectivity_8h.html#a53bdb596e76c52c1e23aaecd0aacc763">p8est_connectivity_new_unitcube</a></div><div class="ttdeci">p8est_connectivity_t * p8est_connectivity_new_unitcube(void)</div><div class="ttdoc">Create a connectivity structure for the unit cube.</div></div>
<div class="ttc" id="ap8est__connectivity_8h_html_a71b16c2537992a3c1e4e51cb52ce76e4"><div class="ttname"><a href="p8est__connectivity_8h.html#a71b16c2537992a3c1e4e51cb52ce76e4">p8est_connectivity_new_twocubes</a></div><div class="ttdeci">p8est_connectivity_t * p8est_connectivity_new_twocubes(void)</div><div class="ttdoc">Create a connectivity structure that contains two cubes.</div></div>
<div class="ttc" id="ap8est__connectivity_8h_html_a8cbb255251c75f998d200aa3873fd359"><div class="ttname"><a href="p8est__connectivity_8h.html#a8cbb255251c75f998d200aa3873fd359">p8est_connectivity_new_shell</a></div><div class="ttdeci">p8est_connectivity_t * p8est_connectivity_new_shell(void)</div><div class="ttdoc">Create a connectivity structure that builds a spherical shell.</div></div>
<div class="ttc" id="ap8est__connectivity_8h_html_a9574e95e719a7cb31ce4c5a73bf3fa83"><div class="ttname"><a href="p8est__connectivity_8h.html#a9574e95e719a7cb31ce4c5a73bf3fa83">p8est_connectivity_new_rotwrap</a></div><div class="ttdeci">p8est_connectivity_t * p8est_connectivity_new_rotwrap(void)</div><div class="ttdoc">Create a connectivity structure for a mostly periodic unit cube.</div></div>
<div class="ttc" id="ap8est__connectivity_8h_html_ac88e4c055b8847d3c9074c17c624da6e"><div class="ttname"><a href="p8est__connectivity_8h.html#ac88e4c055b8847d3c9074c17c624da6e">p8est_connectivity_new_rotcubes</a></div><div class="ttdeci">p8est_connectivity_t * p8est_connectivity_new_rotcubes(void)</div><div class="ttdoc">Create a connectivity structure that contains a few cubes.</div></div>
<div class="ttc" id="ap8est__extended_8h_html"><div class="ttname"><a href="p8est__extended_8h.html">p8est_extended.h</a></div><div class="ttdoc">Interface routines with extended capabilities.</div></div>
<div class="ttc" id="ap8est__ghost_8h_html"><div class="ttname"><a href="p8est__ghost_8h.html">p8est_ghost.h</a></div><div class="ttdoc">Passing quadrants and data to neighboring processes.</div></div>
<div class="ttc" id="ap8est__lnodes_8h_html"><div class="ttname"><a href="p8est__lnodes_8h.html">p8est_lnodes.h</a></div><div class="ttdoc">Generate Lobatto node numbers for any degree.</div></div>
<div class="ttc" id="ap8est__vtk_8h_html"><div class="ttname"><a href="p8est__vtk_8h.html">p8est_vtk.h</a></div><div class="ttdoc">Routines for printing a forest and associated fields to VTK format.</div></div>
<div class="ttc" id="astructp4est__connectivity_html"><div class="ttname"><a href="structp4est__connectivity.html">p4est_connectivity</a></div><div class="ttdoc">This structure holds the 2D inter-tree connectivity information.</div><div class="ttdef"><b>Definition:</b> p4est_connectivity.h:190</div></div>
<div class="ttc" id="astructp4est__ghost_html"><div class="ttname"><a href="structp4est__ghost.html">p4est_ghost</a></div><div class="ttdoc">Quadrants that neighbor the local domain.</div><div class="ttdef"><b>Definition:</b> p4est_ghost.h:46</div></div>
<div class="ttc" id="astructp4est__inspect_html"><div class="ttname"><a href="structp4est__inspect.html">p4est_inspect</a></div><div class="ttdoc">Data pertaining to selecting, inspecting, and profiling algorithms.</div><div class="ttdef"><b>Definition:</b> p4est_extended.h:62</div></div>
<div class="ttc" id="astructp4est__inspect_html_a1231de4ab5b4d8bd357834aa8b205af8"><div class="ttname"><a href="structp4est__inspect.html#a1231de4ab5b4d8bd357834aa8b205af8">p4est_inspect::balance_notify</a></div><div class="ttdeci">double balance_notify</div><div class="ttdoc">time spent in sc_notify</div><div class="ttdef"><b>Definition:</b> p4est_extended.h:84</div></div>
<div class="ttc" id="astructp4est__inspect_html_a3e452c81745d7bd41d5c195813c7881d"><div class="ttname"><a href="structp4est__inspect.html#a3e452c81745d7bd41d5c195813c7881d">p4est_inspect::balance_notify_allgather</a></div><div class="ttdeci">double balance_notify_allgather</div><div class="ttdoc">time spent in sc_notify_allgather</div><div class="ttdef"><b>Definition:</b> p4est_extended.h:86</div></div>
<div class="ttc" id="astructp4est__inspect_html_a7155df6e23babf6109c92cda3f251c6e"><div class="ttname"><a href="structp4est__inspect.html#a7155df6e23babf6109c92cda3f251c6e">p4est_inspect::balance_max_ranges</a></div><div class="ttdeci">int balance_max_ranges</div><div class="ttdoc">If positive and smaller than p4est_num ranges, overrides it.</div><div class="ttdef"><b>Definition:</b> p4est_extended.h:72</div></div>
<div class="ttc" id="astructp4est__inspect_html_ac34dec33477683aa433c272ffceb73b3"><div class="ttname"><a href="structp4est__inspect.html#ac34dec33477683aa433c272ffceb73b3">p4est_inspect::use_balance_ranges_notify</a></div><div class="ttdeci">int use_balance_ranges_notify</div><div class="ttdoc">If true, call both sc_ranges and sc_notify and verify consistency.</div><div class="ttdef"><b>Definition:</b> p4est_extended.h:68</div></div>
<div class="ttc" id="astructp4est__inspect_html_ade5bd2879949227c41d29fbf34269d77"><div class="ttname"><a href="structp4est__inspect.html#ade5bd2879949227c41d29fbf34269d77">p4est_inspect::balance_ranges</a></div><div class="ttdeci">double balance_ranges</div><div class="ttdoc">time spent in sc_ranges</div><div class="ttdef"><b>Definition:</b> p4est_extended.h:83</div></div>
<div class="ttc" id="astructp4est__inspect_html_af11cd9f378e72005aedba0dd9228095b"><div class="ttname"><a href="structp4est__inspect.html#af11cd9f378e72005aedba0dd9228095b">p4est_inspect::use_balance_ranges</a></div><div class="ttdeci">int use_balance_ranges</div><div class="ttdoc">Use sc_ranges to determine the asymmetric communication pattern.</div><div class="ttdef"><b>Definition:</b> p4est_extended.h:65</div></div>
<div class="ttc" id="astructp4est__inspect_html_af5c77d866e9fd3f94f7cc4a3bde79520"><div class="ttname"><a href="structp4est__inspect.html#af5c77d866e9fd3f94f7cc4a3bde79520">p4est_inspect::use_balance_verify</a></div><div class="ttdeci">int use_balance_verify</div><div class="ttdoc">Verify sc_ranges and/or sc_notify as applicable.</div><div class="ttdef"><b>Definition:</b> p4est_extended.h:70</div></div>
<div class="ttc" id="astructp4est__lnodes_html"><div class="ttname"><a href="structp4est__lnodes.html">p4est_lnodes</a></div><div class="ttdoc">Store a parallel numbering of Lobatto points of a given degree &gt; 0.</div><div class="ttdef"><b>Definition:</b> p4est_lnodes.h:145</div></div>
<div class="ttc" id="astructp4est__nodes_html"><div class="ttname"><a href="structp4est__nodes.html">p4est_nodes</a></div><div class="ttdoc">This structure holds complete parallel node information.</div><div class="ttdef"><b>Definition:</b> p4est_nodes.h:141</div></div>
<div class="ttc" id="astructp4est__quadrant_html"><div class="ttname"><a href="structp4est__quadrant.html">p4est_quadrant</a></div><div class="ttdoc">The 2D quadrant datatype.</div><div class="ttdef"><b>Definition:</b> p4est.h:76</div></div>
<div class="ttc" id="astructp4est__quadrant_html_a0f92ad9bd71d9e3f82246d2768ff23ad"><div class="ttname"><a href="structp4est__quadrant.html#a0f92ad9bd71d9e3f82246d2768ff23ad">p4est_quadrant::level</a></div><div class="ttdeci">int8_t level</div><div class="ttdoc">level of refinement</div><div class="ttdef"><b>Definition:</b> p4est.h:80</div></div>
<div class="ttc" id="astructp4est_html"><div class="ttname"><a href="structp4est.html">p4est</a></div><div class="ttdoc">The p4est forest datatype.</div><div class="ttdef"><b>Definition:</b> p4est.h:150</div></div>
<div class="ttc" id="astructp4est_html_a5858a68da810aa216a076578c49439fe"><div class="ttname"><a href="structp4est.html#a5858a68da810aa216a076578c49439fe">p4est::mpisize</a></div><div class="ttdeci">int mpisize</div><div class="ttdoc">number of MPI processes</div><div class="ttdef"><b>Definition:</b> p4est.h:152</div></div>
<div class="ttc" id="astructp4est_html_a8471d9aacc47e5f6db816aa9439554fe"><div class="ttname"><a href="structp4est.html#a8471d9aacc47e5f6db816aa9439554fe">p4est::inspect</a></div><div class="ttdeci">p4est_inspect_t * inspect</div><div class="ttdoc">algorithmic switches</div><div class="ttdef"><b>Definition:</b> p4est.h:185</div></div>
<div class="ttc" id="astructp4est_html_a92c7d2fddd5c84a5245f4873d4f2026a"><div class="ttname"><a href="structp4est.html#a92c7d2fddd5c84a5245f4873d4f2026a">p4est::global_num_quadrants</a></div><div class="ttdeci">p4est_gloidx_t global_num_quadrants</div><div class="ttdoc">number of quadrants on all trees on all processors</div><div class="ttdef"><b>Definition:</b> p4est.h:169</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/>
</body>
</html>
