<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>p4est: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">p4est
   &#160;<span id="projectnumber">2.8.6.259-54a6</span>
   </div>
   <div id="projectbrief">p4est is a software library for parallel adaptive mesh refinement.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#debian">Using a Debian package</a></li>
<li class="level1"><a href="#tarbuild">Installing p4est from a .tar.gz archive</a><ul><li class="level2"><a href="#steps1">Step-by-step guide</a><ul><li class="level3"><a href="#unpack_tarball">1. Unpack the tarball</a></li>
<li class="level3"><a href="#create_dir">2. Create and change into a build directory</a></li>
<li class="level3"><a href="#run_script">3. Run the configure script</a></li>
<li class="level3"><a href="#complile_software">4. Compile the software</a></li>
<li class="level3"><a href="#install_software">5. Install the software (optional)</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#install">Building from source on Unix-like systems</a><ul><li class="level2"><a href="#prerequisites">Prerequisites</a></li>
<li class="level2"><a href="#optional">Optional components</a></li>
<li class="level2"><a href="#steps2">Step-by-step guide</a><ul><li class="level3"><a href="#source_retrieval">1. Source retrieval</a></li>
<li class="level3"><a href="#bootstrap">2. Bootstrap execution</a></li>
<li class="level3"><a href="#setup">3. Setting up p4est</a></li>
<li class="level3"><a href="#compile">4. Compiling p4est</a></li>
<li class="level3"><a href="#verification">5. Verification Step</a></li>
<li class="level3"><a href="#api_docs">6. Autogenerated API documentation</a></li>
<li class="level3"><a href="#integration">7. Integrating with p4est</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#further">Further information and links</a></li>
</ul>
</div>
<div class="textblock"><p>We collect helpful hints to build the <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a> software library and examples.</p>
<h1><a class="anchor" id="debian"></a>
Using a Debian package</h1>
<p>Installing <code><a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a></code> on Debian-based systems via a package manager is the most straightforward method to get started. This method is beneficial for users who prefer a managed installation and do not require the latest version or customization of the build process. This provides a frozen and stable version of the code with minimal hassle. However, contributions back to the software aren't possible in this manner.</p>
<p>Before proceeding, ensure your package lists are up to date. Open a terminal and update your system's package list with the following command:</p>
<blockquote class="doxtable">
<p><code>sudo apt-get update</code> </p>
</blockquote>
<p>Once the package lists are updated, you can install <code><a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a></code> using <code>apt-get</code>.</p>
<blockquote class="doxtable">
<p><code>sudo apt-get install libp4est-&lt;VERSION&gt;</code> </p>
</blockquote>
<p>The available version can be found in the <a href="https://packages.qa.debian.org/p/p4est.html">debian package tracker</a>, or by running</p>
<blockquote class="doxtable">
<p><code>apt-cache search <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a></code> </p>
</blockquote>
<h1><a class="anchor" id="tarbuild"></a>
Installing p4est from a .tar.gz archive</h1>
<p>No special tools are needed to build from a tarball obtained for example from <a href="https://github.com/p4est/p4est.github.io/tree/master/release/">the release directory</a>.</p>
<p>After unpacking the tar file, we recommend to change into an empty build directory. The <code>configure</code> script from the toplevel directory of the unpacked tar file can be executed as is. We recommend to create an empty build directory.</p>
<h2><a class="anchor" id="steps1"></a>
Step-by-step guide</h2>
<h3><a class="anchor" id="unpack_tarball"></a>
1. Unpack the tarball</h3>
<blockquote class="doxtable">
<p><code>tar -xzf p4est-&lt;VERSION&gt;.tar.gz</code> </p>
</blockquote>
<h3><a class="anchor" id="create_dir"></a>
2. Create and change into a build directory</h3>
<blockquote class="doxtable">
<p><code>mkdir p4est_build</code> </p>
</blockquote>
<blockquote class="doxtable">
<p><code>cd p4est_build</code> </p>
</blockquote>
<h3><a class="anchor" id="run_script"></a>
3. Run the configure script</h3>
<blockquote class="doxtable">
<p><code>../p4est-&lt;VERSION&gt;/configure --help</code> </p>
</blockquote>
<blockquote class="doxtable">
<p><code>../p4est-&lt;VERSION&gt;/configure --enable-mpi --etc...</code> </p>
</blockquote>
<p>You may also set environment variables like <code>CFLAGS="-Wall -g"</code>.</p>
<h3><a class="anchor" id="complile_software"></a>
4. Compile the software</h3>
<blockquote class="doxtable">
<p><code>make -j</code> </p>
</blockquote>
<p>Adding the environment variable <code>V=1</code> would re-enable much <code>make</code> output.</p>
<h3><a class="anchor" id="install_software"></a>
5. Install the software (optional)</h3>
<blockquote class="doxtable">
<p><code>make install</code> </p>
</blockquote>
<p>The software is installed by default into the prefix <code>./local</code>. This can be changed by setting <code>configure --prefix=&lt;PATH&gt;</code>.</p>
<h1><a class="anchor" id="install"></a>
Building from source on Unix-like systems</h1>
<p>For a more hands-on approach, consider cloning the <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a> GitHub repository. You'll need familiarity with the revision control tool <code>git</code> or its GUI frontends. The branch <code>develop</code> is recommended as it has minimized dependencies and houses the latest algorithms. To generate the configure script, call the <code>./bootstrap</code> script in the <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a> top-level source directory. This requires a working installation of GNU autoconf, automake, and libtool.</p>
<h2><a class="anchor" id="prerequisites"></a>
Prerequisites</h2>
<ul>
<li>For the installation from source, we still prefer the autotools over the CMake system (which has recently been added). Ensure you have:<ul>
<li><code>automake</code> </li>
<li><code>autoconf</code> </li>
<li><code>libtool</code> </li>
<li><code>make</code> </li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="optional"></a>
Optional components</h2>
<ul>
<li>For enhancing parallel processing, having <code>MPI</code> is advisable and configuring <code>--enable-mpi</code>.</li>
</ul>
<h2><a class="anchor" id="steps2"></a>
Step-by-step guide</h2>
<h3><a class="anchor" id="source_retrieval"></a>
1. Source retrieval</h3>
<blockquote class="doxtable">
<p><code>git clone <a href="https://github.com/cburstedde/p4est.git">https://github.com/cburstedde/p4est.git</a></code> </p>
</blockquote>
<h3><a class="anchor" id="bootstrap"></a>
2. Bootstrap execution</h3>
<p>Navigate to the <code><a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a></code> directory and initiate the bootstrap script, especially if you've cloned it from GitHub:</p>
<blockquote class="doxtable">
<p><code>cd <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a></code> </p>
</blockquote>
<blockquote class="doxtable">
<p><code>./bootstrap</code> </p>
</blockquote>
<h3><a class="anchor" id="setup"></a>
3. Setting up p4est</h3>
<p>Decide on a compilation directory. For this guide, <code>~/p4est_build</code> is used, presuming the source is in <code>~/p4est</code>:</p>
<blockquote class="doxtable">
<p><code>mkdir ~/p4est_build</code> </p>
</blockquote>
<blockquote class="doxtable">
<p><code>cd ~/p4est_build</code> </p>
</blockquote>
<blockquote class="doxtable">
<p><code>../p4est/configure [OPTIONS]</code> </p>
</blockquote>
<p>The <code>configure</code> script is quite versatile and has multiple options, among them:</p>
<ul>
<li><code>--enable-debug</code>: Activates debugging mode, increasing verbosity and turns on <code>P4EST_ASSERT</code> for checks.</li>
<li><code>--enable-mpi</code>: This integrates the <code>mpi.h</code> header and triggers MPI compiler wrappers. Without this option, MPI routine wrappers are employed for serial compilation.</li>
<li><code>--prefix=&lt;PATH&gt;</code>: Define an absolute path to a directory (need not yet exist) that will be populated by <code>make install</code> with the header and library files built.</li>
</ul>
<p>Additionally, the command:</p>
<blockquote class="doxtable">
<p><code>../p4est/configure --help</code> </p>
</blockquote>
<p>prints a list of currently available options to configure.</p>
<p>A common developer-oriented configuration might resemble:</p>
<blockquote class="doxtable">
<p><code>relative/path/to/configure CFLAGS="-Wall -Wuninitialized -O0 -g" --enable-mpi --enable-debug</code> </p>
</blockquote>
<p>While a production-oriented configuration could be:</p>
<blockquote class="doxtable">
<p><code>relative/path/to/configure CFLAGS="-Wall -Wno-unused-but-set-variable -O2" --enable-mpi</code> </p>
</blockquote>
<h3><a class="anchor" id="compile"></a>
4. Compiling p4est</h3>
<p>After configuration, the next step is the compilation of <code><a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a>:</code> </p>
<blockquote class="doxtable">
<p><code>make -j</code> </p>
</blockquote>
<blockquote class="doxtable">
<p><code>make install -j</code> </p>
</blockquote>
<h3><a class="anchor" id="verification"></a>
5. Verification Step</h3>
<p>It's recommended to execute the <code><a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a></code> test programs post-installation to ensure everything is in order:</p>
<blockquote class="doxtable">
<p><code>make -j4 check</code> </p>
</blockquote>
<p>Where the <code>-j</code> option limits parallel make to at most four targets at the same time.</p>
<h3><a class="anchor" id="api_docs"></a>
6. Autogenerated API documentation</h3>
<p>The Doxygen output for <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a> and libsc can be recreated with the following command after the configuration process:</p>
<blockquote class="doxtable">
<p><code>make doxygen</code> </p>
</blockquote>
<p>This requires the doxygen program and produces html, latex and man format documentation under <code>doc</code>.</p>
<h3><a class="anchor" id="integration"></a>
7. Integrating with p4est</h3>
<p>For projects aiming to incorporate <code><a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a></code> as an external library, where we assume for this example that it has been configured with <code>--prefix=$HOME/p4est_install</code> and built with <code>make install</code>, use</p>
<blockquote class="doxtable">
<p><code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$HOME/p4est_install/lib</code> </p>
</blockquote>
<p>to be able to run built executables that dynamically link to <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a>. Append to the compile command:</p>
<blockquote class="doxtable">
<p><code>-I$HOME/p4est_install/include -L$HOME/p4est_install/lib -lp4est -lsc -lz -lm</code> </p>
</blockquote>
<p>For full functionality, we expect a zlib that provides the function <code>adler32_combine</code>.</p>
<h1><a class="anchor" id="further"></a>
Further information and links</h1>
<p>You may find further documentation for installation on both <a href="https://github.com/cburstedde/p4est/blob/develop/INSTALL">Linux</a> and <a href="https://github.com/cburstedde/p4est/blob/develop/INSTALL_WINDOWS">Windows</a> in the source folder.</p>
<p>For users with Windows 10 version 2004 and higher, you may also try <a href="https://learn.microsoft.com/en-us/windows/wsl/install">WSL</a> as <a class="el" href="structp4est.html" title="The p4est forest datatype.">p4est</a> works well in the subsystem. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/>
</body>
</html>
